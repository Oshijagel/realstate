!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var o=[],i=e.document,n=Object.getPrototypeOf,s=o.slice,r=o.concat,a=o.push,l=o.indexOf,p={},c=p.toString,u=p.hasOwnProperty,d=u.toString,h=d.call(Object),f={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},v=function(e){return null!=e&&e===e.window},m={type:!0,src:!0,noModule:!0};function y(e,t,o){var n,s=(t=t||i).createElement("script");if(s.text=e,o)for(n in m)o[n]&&(s[n]=o[n]);t.head.appendChild(s).parentNode.removeChild(s)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?p[c.call(e)]||"object":typeof e}var w=function(e,t){return new w.fn.init(e,t)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(e){var t=!!e&&"length"in e&&e.length,o=b(e);return!g(e)&&!v(e)&&("array"===o||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,o){return e.call(t,o,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,o=+e+(e<0?t:0);return this.pushStack(o>=0&&o<t?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:o.sort,splice:o.splice},w.extend=w.fn.extend=function(){var e,t,o,i,n,s,r=arguments[0]||{},a=1,l=arguments.length,p=!1;for("boolean"==typeof r&&(p=r,r=arguments[a]||{},a++),"object"==typeof r||g(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)o=r[t],r!==(i=e[t])&&(p&&i&&(w.isPlainObject(i)||(n=Array.isArray(i)))?(n?(n=!1,s=o&&Array.isArray(o)?o:[]):s=o&&w.isPlainObject(o)?o:{},r[t]=w.extend(p,s,i)):void 0!==i&&(r[t]=i));return r},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,o;return!(!e||"[object Object]"!==c.call(e)||(t=n(e))&&("function"!=typeof(o=u.call(t,"constructor")&&t.constructor)||d.call(o)!==h))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){y(e)},each:function(e,t){var o,i=0;if(S(e))for(o=e.length;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(x,"")},makeArray:function(e,t){var o=t||[];return null!=e&&(S(Object(e))?w.merge(o,"string"==typeof e?[e]:e):a.call(o,e)),o},inArray:function(e,t,o){return null==t?-1:l.call(t,e,o)},merge:function(e,t){for(var o=+t.length,i=0,n=e.length;i<o;i++)e[n++]=t[i];return e.length=n,e},grep:function(e,t,o){for(var i=[],n=0,s=e.length,r=!o;n<s;n++)!t(e[n],n)!==r&&i.push(e[n]);return i},map:function(e,t,o){var i,n,s=0,a=[];if(S(e))for(i=e.length;s<i;s++)null!=(n=t(e[s],s,o))&&a.push(n);else for(s in e)null!=(n=t(e[s],s,o))&&a.push(n);return r.apply([],a)},guid:1,support:f}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=o[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){p["[object "+t+"]"]=t.toLowerCase()});var C=function(e){var t,o,i,n,s,r,a,l,p,c,u,d,h,f,g,v,m,y,b,w="sizzle"+1*new Date,x=e.document,S=0,C=0,k=re(),M=re(),$=re(),D=function(e,t){return e===t&&(u=!0),0},T={}.hasOwnProperty,_=[],B=_.pop,V=_.push,L=_.push,O=_.slice,G=function(e,t){for(var o=0,i=e.length;o<i;o++)if(e[o]===t)return o;return-1},E="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",A="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+R+"*("+A+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+A+"))|)"+R+"*\\]",H=":("+A+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",N=new RegExp(R+"+","g"),P=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),F=new RegExp("^"+R+"*,"+R+"*"),I=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),z=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),q=new RegExp(H),W=new RegExp("^"+A+"$"),X={ID:new RegExp("^#("+A+")"),CLASS:new RegExp("^\\.("+A+")"),TAG:new RegExp("^("+A+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+E+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,U=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,K=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),ee=function(e,t,o){var i="0x"+t-65536;return i!=i||o?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){d()},ne=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(_=O.call(x.childNodes),x.childNodes)}catch(e){L={apply:_.length?function(e,t){V.apply(e,O.call(t))}:function(e,t){for(var o=e.length,i=0;e[o++]=t[i++];);e.length=o-1}}}function se(e,t,i,n){var s,a,p,c,u,f,m,y=t&&t.ownerDocument,S=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return i;if(!n&&((t?t.ownerDocument||t:x)!==h&&d(t),t=t||h,g)){if(11!==S&&(u=Q.exec(e)))if(s=u[1]){if(9===S){if(!(p=t.getElementById(s)))return i;if(p.id===s)return i.push(p),i}else if(y&&(p=y.getElementById(s))&&b(t,p)&&p.id===s)return i.push(p),i}else{if(u[2])return L.apply(i,t.getElementsByTagName(e)),i;if((s=u[3])&&o.getElementsByClassName&&t.getElementsByClassName)return L.apply(i,t.getElementsByClassName(s)),i}if(o.qsa&&!$[e+" "]&&(!v||!v.test(e))){if(1!==S)y=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,oe):t.setAttribute("id",c=w),a=(f=r(e)).length;a--;)f[a]="#"+c+" "+me(f[a]);m=f.join(","),y=J.test(e)&&ge(t.parentNode)||t}if(m)try{return L.apply(i,y.querySelectorAll(m)),i}catch(e){}finally{c===w&&t.removeAttribute("id")}}}return l(e.replace(P,"$1"),t,i,n)}function re(){var e=[];return function t(o,n){return e.push(o+" ")>i.cacheLength&&delete t[e.shift()],t[o+" "]=n}}function ae(e){return e[w]=!0,e}function le(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pe(e,t){for(var o=e.split("|"),n=o.length;n--;)i.attrHandle[o[n]]=t}function ce(e,t){var o=t&&e,i=o&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(o)for(;o=o.nextSibling;)if(o===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var o=t.nodeName.toLowerCase();return("input"===o||"button"===o)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ne(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae(function(t){return t=+t,ae(function(o,i){for(var n,s=e([],o.length,t),r=s.length;r--;)o[n=s[r]]&&(o[n]=!(i[n]=o[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in o=se.support={},s=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:x;return r!==h&&9===r.nodeType&&r.documentElement?(f=(h=r).documentElement,g=!s(h),x!==h&&(n=h.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ie,!1):n.attachEvent&&n.attachEvent("onunload",ie)),o.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),o.getElementsByTagName=le(function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length}),o.getElementsByClassName=Z.test(h.getElementsByClassName),o.getById=le(function(e){return f.appendChild(e).id=w,!h.getElementsByName||!h.getElementsByName(w).length}),o.getById?(i.filter.ID=function(e){var t=e.replace(K,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var o=t.getElementById(e);return o?[o]:[]}}):(i.filter.ID=function(e){var t=e.replace(K,ee);return function(e){var o=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return o&&o.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var o,i,n,s=t.getElementById(e);if(s){if((o=s.getAttributeNode("id"))&&o.value===e)return[s];for(n=t.getElementsByName(e),i=0;s=n[i++];)if((o=s.getAttributeNode("id"))&&o.value===e)return[s]}return[]}}),i.find.TAG=o.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):o.qsa?t.querySelectorAll(e):void 0}:function(e,t){var o,i=[],n=0,s=t.getElementsByTagName(e);if("*"===e){for(;o=s[n++];)1===o.nodeType&&i.push(o);return i}return s},i.find.CLASS=o.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],v=[],(o.qsa=Z.test(h.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+R+"*(?:value|"+E+")"),e.querySelectorAll("[id~="+w+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+R+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(o.matchesSelector=Z.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){o.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",H)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=Z.test(f.compareDocumentPosition),b=t||Z.test(f.contains)?function(e,t){var o=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(o.contains?o.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return u=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!o.sortDetached&&t.compareDocumentPosition(e)===i?e===h||e.ownerDocument===x&&b(x,e)?-1:t===h||t.ownerDocument===x&&b(x,t)?1:c?G(c,e)-G(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return u=!0,0;var o,i=0,n=e.parentNode,s=t.parentNode,r=[e],a=[t];if(!n||!s)return e===h?-1:t===h?1:n?-1:s?1:c?G(c,e)-G(c,t):0;if(n===s)return ce(e,t);for(o=e;o=o.parentNode;)r.unshift(o);for(o=t;o=o.parentNode;)a.unshift(o);for(;r[i]===a[i];)i++;return i?ce(r[i],a[i]):r[i]===x?-1:a[i]===x?1:0},h):h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&d(e),t=t.replace(z,"='$1']"),o.matchesSelector&&g&&!$[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var i=y.call(e,t);if(i||o.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return se(t,h,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==h&&d(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==h&&d(e);var n=i.attrHandle[t.toLowerCase()],s=n&&T.call(i.attrHandle,t.toLowerCase())?n(e,t,!g):void 0;return void 0!==s?s:o.attributes||!g?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},se.escape=function(e){return(e+"").replace(te,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],n=0,s=0;if(u=!o.detectDuplicates,c=!o.sortStable&&e.slice(0),e.sort(D),u){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return c=null,e},n=se.getText=function(e){var t,o="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)o+=n(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[i++];)o+=n(t);return o},(i=se.selectors={cacheLength:50,createPseudo:ae,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(K,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(K,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,o=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":o&&q.test(o)&&(t=r(o,!0))&&(t=o.indexOf(")",o.length-t)-o.length)&&(e[0]=e[0].slice(0,t),e[2]=o.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(K,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,o){return function(i){var n=se.attr(i,e);return null==n?"!="===t:!t||(n+="","="===t?n===o:"!="===t?n!==o:"^="===t?o&&0===n.indexOf(o):"*="===t?o&&n.indexOf(o)>-1:"$="===t?o&&n.slice(-o.length)===o:"~="===t?(" "+n.replace(N," ")+" ").indexOf(o)>-1:"|="===t&&(n===o||n.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,o,i,n){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===n?function(e){return!!e.parentNode}:function(t,o,l){var p,c,u,d,h,f,g=s!==r?"nextSibling":"previousSibling",v=t.parentNode,m=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(v){if(s){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?v.firstChild:v.lastChild],r&&y){for(b=(h=(p=(c=(u=(d=v)[w]||(d[w]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===S&&p[1])&&p[2],d=h&&v.childNodes[h];d=++h&&d&&d[g]||(b=h=0)||f.pop();)if(1===d.nodeType&&++b&&d===t){c[e]=[S,h,b];break}}else if(y&&(b=h=(p=(c=(u=(d=t)[w]||(d[w]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===S&&p[1]),!1===b)for(;(d=++h&&d&&d[g]||(b=h=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++b||(y&&((c=(u=d[w]||(d[w]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]=[S,b]),d!==t)););return(b-=n)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var o,n=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return n[w]?n(t):n.length>1?(o=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,o){for(var i,s=n(e,t),r=s.length;r--;)e[i=G(e,s[r])]=!(o[i]=s[r])}):function(e){return n(e,0,o)}):n}},pseudos:{not:ae(function(e){var t=[],o=[],i=a(e.replace(P,"$1"));return i[w]?ae(function(e,t,o,n){for(var s,r=i(e,null,n,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))}):function(e,n,s){return t[0]=e,i(t,null,s,o),t[0]=null,!o.pop()}}),has:ae(function(e){return function(t){return se(e,t).length>0}}),contains:ae(function(e){return e=e.replace(K,ee),function(t){return(t.textContent||t.innerText||n(t)).indexOf(e)>-1}}),lang:ae(function(e){return W.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(K,ee).toLowerCase(),function(t){var o;do{if(o=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(o=o.toLowerCase())===e||0===o.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var o=e.location&&e.location.hash;return o&&o.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return U.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,o){return[o<0?o+t:o]}),even:fe(function(e,t){for(var o=0;o<t;o+=2)e.push(o);return e}),odd:fe(function(e,t){for(var o=1;o<t;o+=2)e.push(o);return e}),lt:fe(function(e,t,o){for(var i=o<0?o+t:o;--i>=0;)e.push(i);return e}),gt:fe(function(e,t,o){for(var i=o<0?o+t:o;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=de(t);function ve(){}function me(e){for(var t=0,o=e.length,i="";t<o;t++)i+=e[t].value;return i}function ye(e,t,o){var i=t.dir,n=t.next,s=n||i,r=o&&"parentNode"===s,a=C++;return t.first?function(t,o,n){for(;t=t[i];)if(1===t.nodeType||r)return e(t,o,n);return!1}:function(t,o,l){var p,c,u,d=[S,a];if(l){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,o,l))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=(u=t[w]||(t[w]={}))[t.uniqueID]||(u[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[i]||t;else{if((p=c[s])&&p[0]===S&&p[1]===a)return d[2]=p[2];if(c[s]=d,d[2]=e(t,o,l))return!0}return!1}}function be(e){return e.length>1?function(t,o,i){for(var n=e.length;n--;)if(!e[n](t,o,i))return!1;return!0}:e[0]}function we(e,t,o,i,n){for(var s,r=[],a=0,l=e.length,p=null!=t;a<l;a++)(s=e[a])&&(o&&!o(s,i,n)||(r.push(s),p&&t.push(a)));return r}function xe(e,t,o,i,n,s){return i&&!i[w]&&(i=xe(i)),n&&!n[w]&&(n=xe(n,s)),ae(function(s,r,a,l){var p,c,u,d=[],h=[],f=r.length,g=s||function(e,t,o){for(var i=0,n=t.length;i<n;i++)se(e,t[i],o);return o}(t||"*",a.nodeType?[a]:a,[]),v=!e||!s&&t?g:we(g,d,e,a,l),m=o?n||(s?e:f||i)?[]:r:v;if(o&&o(v,m,a,l),i)for(p=we(m,h),i(p,[],a,l),c=p.length;c--;)(u=p[c])&&(m[h[c]]=!(v[h[c]]=u));if(s){if(n||e){if(n){for(p=[],c=m.length;c--;)(u=m[c])&&p.push(v[c]=u);n(null,m=[],p,l)}for(c=m.length;c--;)(u=m[c])&&(p=n?G(s,u):d[c])>-1&&(s[p]=!(r[p]=u))}}else m=we(m===r?m.splice(f,m.length):m),n?n(null,r,m,l):L.apply(r,m)})}function Se(e){for(var t,o,n,s=e.length,r=i.relative[e[0].type],a=r||i.relative[" "],l=r?1:0,c=ye(function(e){return e===t},a,!0),u=ye(function(e){return G(t,e)>-1},a,!0),d=[function(e,o,i){var n=!r&&(i||o!==p)||((t=o).nodeType?c(e,o,i):u(e,o,i));return t=null,n}];l<s;l++)if(o=i.relative[e[l].type])d=[ye(be(d),o)];else{if((o=i.filter[e[l].type].apply(null,e[l].matches))[w]){for(n=++l;n<s&&!i.relative[e[n].type];n++);return xe(l>1&&be(d),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(P,"$1"),o,l<n&&Se(e.slice(l,n)),n<s&&Se(e=e.slice(n)),n<s&&me(e))}d.push(o)}return be(d)}return ve.prototype=i.filters=i.pseudos,i.setFilters=new ve,r=se.tokenize=function(e,t){var o,n,s,r,a,l,p,c=M[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],p=i.preFilter;a;){for(r in o&&!(n=F.exec(a))||(n&&(a=a.slice(n[0].length)||a),l.push(s=[])),o=!1,(n=I.exec(a))&&(o=n.shift(),s.push({value:o,type:n[0].replace(P," ")}),a=a.slice(o.length)),i.filter)!(n=X[r].exec(a))||p[r]&&!(n=p[r](n))||(o=n.shift(),s.push({value:o,type:r,matches:n}),a=a.slice(o.length));if(!o)break}return t?a.length:a?se.error(e):M(e,l).slice(0)},a=se.compile=function(e,t){var o,n=[],s=[],a=$[e+" "];if(!a){for(t||(t=r(e)),o=t.length;o--;)(a=Se(t[o]))[w]?n.push(a):s.push(a);(a=$(e,function(e,t){var o=t.length>0,n=e.length>0,s=function(s,r,a,l,c){var u,f,v,m=0,y="0",b=s&&[],w=[],x=p,C=s||n&&i.find.TAG("*",c),k=S+=null==x?1:Math.random()||.1,M=C.length;for(c&&(p=r===h||r||c);y!==M&&null!=(u=C[y]);y++){if(n&&u){for(f=0,r||u.ownerDocument===h||(d(u),a=!g);v=e[f++];)if(v(u,r||h,a)){l.push(u);break}c&&(S=k)}o&&((u=!v&&u)&&m--,s&&b.push(u))}if(m+=y,o&&y!==m){for(f=0;v=t[f++];)v(b,w,r,a);if(s){if(m>0)for(;y--;)b[y]||w[y]||(w[y]=B.call(l));w=we(w)}L.apply(l,w),c&&!s&&w.length>0&&m+t.length>1&&se.uniqueSort(l)}return c&&(S=k,p=x),b};return o?ae(s):s}(s,n))).selector=e}return a},l=se.select=function(e,t,o,n){var s,l,p,c,u,d="function"==typeof e&&e,h=!n&&r(e=d.selector||e);if(o=o||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(p=l[0]).type&&9===t.nodeType&&g&&i.relative[l[1].type]){if(!(t=(i.find.ID(p.matches[0].replace(K,ee),t)||[])[0]))return o;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(s=X.needsContext.test(e)?0:l.length;s--&&!i.relative[c=(p=l[s]).type];)if((u=i.find[c])&&(n=u(p.matches[0].replace(K,ee),J.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(s,1),!(e=n.length&&me(l)))return L.apply(o,n),o;break}}return(d||a(e,h))(n,t,!g,o,!t||J.test(e)&&ge(t.parentNode)||t),o},o.sortStable=w.split("").sort(D).join("")===w,o.detectDuplicates=!!u,d(),o.sortDetached=le(function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,o){if(!o)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),o.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,o){if(!o&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||pe(E,function(e,t,o){var i;if(!o)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),se}(e);w.find=C,w.expr=C.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=C.uniqueSort,w.text=C.getText,w.isXMLDoc=C.isXML,w.contains=C.contains,w.escapeSelector=C.escape;var k=function(e,t,o){for(var i=[],n=void 0!==o;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&w(e).is(o))break;i.push(e)}return i},M=function(e,t){for(var o=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&o.push(e);return o},$=w.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _(e,t,o){return g(t)?w.grep(e,function(e,i){return!!t.call(e,i,e)!==o}):t.nodeType?w.grep(e,function(e){return e===t!==o}):"string"!=typeof t?w.grep(e,function(e){return l.call(t,e)>-1!==o}):w.filter(t,e,o)}w.filter=function(e,t,o){var i=t[0];return o&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?w.find.matchesSelector(i,e)?[i]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,o,i=this.length,n=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<i;t++)if(w.contains(n[t],this))return!0}));for(o=this.pushStack([]),t=0;t<i;t++)w.find(e,n[t],o);return i>1?w.uniqueSort(o):o},filter:function(e){return this.pushStack(_(this,e||[],!1))},not:function(e){return this.pushStack(_(this,e||[],!0))},is:function(e){return!!_(this,"string"==typeof e&&$.test(e)?w(e):e||[],!1).length}});var B,V=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,o){var n,s;if(!e)return this;if(o=o||B,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:V.exec(e))||!n[1]&&t)return!t||t.jquery?(t||o).find(e):this.constructor(t).find(e);if(n[1]){if(w.merge(this,w.parseHTML(n[1],(t=t instanceof w?t[0]:t)&&t.nodeType?t.ownerDocument||t:i,!0)),T.test(n[1])&&w.isPlainObject(t))for(n in t)g(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(s=i.getElementById(n[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==o.ready?o.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,B=w(i);var L=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function G(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),o=t.length;return this.filter(function(){for(var e=0;e<o;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var o,i=0,n=this.length,s=[],r="string"!=typeof e&&w(e);if(!$.test(e))for(;i<n;i++)for(o=this[i];o&&o!==t;o=o.parentNode)if(o.nodeType<11&&(r?r.index(o)>-1:1===o.nodeType&&w.find.matchesSelector(o,e))){s.push(o);break}return this.pushStack(s.length>1?w.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?l.call(w(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,o){return k(e,"parentNode",o)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,o){return k(e,"nextSibling",o)},prevUntil:function(e,t,o){return k(e,"previousSibling",o)},siblings:function(e){return M((e.parentNode||{}).firstChild,e)},children:function(e){return M(e.firstChild)},contents:function(e){return D(e,"iframe")?e.contentDocument:(D(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(o,i){var n=w.map(this,t,o);return"Until"!==e.slice(-5)&&(i=o),i&&"string"==typeof i&&(n=w.filter(i,n)),this.length>1&&(O[e]||w.uniqueSort(n),L.test(e)&&n.reverse()),this.pushStack(n)}});var E=/[^\x20\t\r\n\f]+/g;function R(e){return e}function A(e){throw e}function j(e,t,o,i){var n;try{e&&g(n=e.promise)?n.call(e).done(t).fail(o):e&&g(n=e.then)?n.call(e,t,o):t.apply(void 0,[e].slice(i))}catch(e){o.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(E)||[],function(e,o){t[o]=!0}),t}(e):w.extend({},e);var t,o,i,n,s=[],r=[],a=-1,l=function(){for(n=n||e.once,i=t=!0;r.length;a=-1)for(o=r.shift();++a<s.length;)!1===s[a].apply(o[0],o[1])&&e.stopOnFalse&&(a=s.length,o=!1);e.memory||(o=!1),t=!1,n&&(s=o?[]:"")},p={add:function(){return s&&(o&&!t&&(a=s.length-1,r.push(o)),function t(o){w.each(o,function(o,i){g(i)?e.unique&&p.has(i)||s.push(i):i&&i.length&&"string"!==b(i)&&t(i)})}(arguments),o&&!t&&l()),this},remove:function(){return w.each(arguments,function(e,t){for(var o;(o=w.inArray(t,s,o))>-1;)s.splice(o,1),o<=a&&a--}),this},has:function(e){return e?w.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return n=r=[],s=o="",this},disabled:function(){return!s},lock:function(){return n=r=[],o||t||(s=o=""),this},locked:function(){return!!n},fireWith:function(e,o){return n||(o=[e,(o=o||[]).slice?o.slice():o],r.push(o),t||l()),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},w.extend({Deferred:function(t){var o=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(o,function(o,i){var n=g(e[i[4]])&&e[i[4]];s[i[1]](function(){var e=n&&n.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(t,i,n){var s=0;function r(t,o,i,n){return function(){var a=this,l=arguments,p=function(){var e,p;if(!(t<s)){if((e=i.apply(a,l))===o.promise())throw new TypeError("Thenable self-resolution");g(p=e&&("object"==typeof e||"function"==typeof e)&&e.then)?n?p.call(e,r(s,o,R,n),r(s,o,A,n)):p.call(e,r(++s,o,R,n),r(s,o,A,n),r(s,o,R,o.notifyWith)):(i!==R&&(a=void 0,l=[e]),(n||o.resolveWith)(a,l))}},c=n?p:function(){try{p()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=s&&(i!==A&&(a=void 0,l=[e]),o.rejectWith(a,l))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){o[0][3].add(r(0,e,g(n)?n:R,e.notifyWith)),o[1][3].add(r(0,e,g(t)?t:R)),o[2][3].add(r(0,e,g(i)?i:A))}).promise()},promise:function(e){return null!=e?w.extend(e,n):n}},s={};return w.each(o,function(e,t){var r=t[2],a=t[5];n[t[1]]=r.add,a&&r.add(function(){i=a},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),r.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=r.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,o=t,i=Array(o),n=s.call(arguments),r=w.Deferred(),a=function(e){return function(o){i[e]=this,n[e]=arguments.length>1?s.call(arguments):o,--t||r.resolveWith(i,n)}};if(t<=1&&(j(e,r.done(a(o)).resolve,r.reject,!t),"pending"===r.state()||g(n[o]&&n[o].then)))return r.then();for(;o--;)j(n[o],a(o),r.reject);return r.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,o){e.console&&e.console.warn&&t&&H.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,o)},w.readyException=function(t){e.setTimeout(function(){throw t})};var N=w.Deferred();function P(){i.removeEventListener("DOMContentLoaded",P),e.removeEventListener("load",P),w.ready()}w.fn.ready=function(e){return N.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||N.resolveWith(i,[w]))}}),w.ready.then=N.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(w.ready):(i.addEventListener("DOMContentLoaded",P),e.addEventListener("load",P));var F=function(e,t,o,i,n,s,r){var a=0,l=e.length,p=null==o;if("object"===b(o))for(a in n=!0,o)F(e,t,a,o[a],!0,s,r);else if(void 0!==i&&(n=!0,g(i)||(r=!0),p&&(r?(t.call(e,i),t=null):(p=t,t=function(e,t,o){return p.call(w(e),o)})),t))for(;a<l;a++)t(e[a],o,r?i:i.call(e[a],a,t(e[a],o)));return n?e:p?t.call(e):l?t(e[0],o):s},I=/^-ms-/,z=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function W(e){return e.replace(I,"ms-").replace(z,q)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=w.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,o){var i,n=this.cache(e);if("string"==typeof t)n[W(t)]=o;else for(i in t)n[W(i)]=t[i];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,o){return void 0===t||t&&"string"==typeof t&&void 0===o?this.get(e,t):(this.set(e,t,o),void 0!==o?o:t)},remove:function(e,t){var o,i=e[this.expando];if(void 0!==i){if(void 0!==t){o=(t=Array.isArray(t)?t.map(W):(t=W(t))in i?[t]:t.match(E)||[]).length;for(;o--;)delete i[t[o]]}(void 0===t||w.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var U=new Y,Z=new Y,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function K(e,t,o){var i;if(void 0===o&&1===e.nodeType)if(i="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(o=e.getAttribute(i))){try{o=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}(o)}catch(e){}Z.set(e,t,o)}else o=void 0;return o}w.extend({hasData:function(e){return Z.hasData(e)||U.hasData(e)},data:function(e,t,o){return Z.access(e,t,o)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,o){return U.access(e,t,o)},_removeData:function(e,t){U.remove(e,t)}}),w.fn.extend({data:function(e,t){var o,i,n,s=this[0],r=s&&s.attributes;if(void 0===e){if(this.length&&(n=Z.get(s),1===s.nodeType&&!U.get(s,"hasDataAttrs"))){for(o=r.length;o--;)r[o]&&0===(i=r[o].name).indexOf("data-")&&(i=W(i.slice(5)),K(s,i,n[i]));U.set(s,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){Z.set(this,e)}):F(this,function(t){var o;if(s&&void 0===t)return void 0!==(o=Z.get(s,e))?o:void 0!==(o=K(s,e))?o:void 0;this.each(function(){Z.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Z.remove(this,e)})}}),w.extend({queue:function(e,t,o){var i;if(e)return i=U.get(e,t=(t||"fx")+"queue"),o&&(!i||Array.isArray(o)?i=U.access(e,t,w.makeArray(o)):i.push(o)),i||[]},dequeue:function(e,t){var o=w.queue(e,t=t||"fx"),i=o.length,n=o.shift(),s=w._queueHooks(e,t);"inprogress"===n&&(n=o.shift(),i--),n&&("fx"===t&&o.unshift("inprogress"),delete s.stop,n.call(e,function(){w.dequeue(e,t)},s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var o=t+"queueHooks";return U.get(e,o)||U.access(e,o,{empty:w.Callbacks("once memory").add(function(){U.remove(e,[t+"queue",o])})})}}),w.fn.extend({queue:function(e,t){var o=2;return"string"!=typeof e&&(t=e,e="fx",o--),arguments.length<o?w.queue(this[0],e):void 0===t?this:this.each(function(){var o=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==o[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var o,i=1,n=w.Deferred(),s=this,r=this.length,a=function(){--i||n.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(o=U.get(s[r],e+"queueHooks"))&&o.empty&&(i++,o.empty.add(a));return a(),n.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},ne=function(e,t,o,i){var n,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];for(s in n=o.apply(e,i||[]),t)e.style[s]=r[s];return n};function se(e,t,o,i){var n,s,r=20,a=i?function(){return i.cur()}:function(){return w.css(e,t,"")},l=a(),p=o&&o[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==p&&+l)&&te.exec(w.css(e,t));if(c&&c[3]!==p){for(l/=2,p=p||c[3],c=+l||1;r--;)w.style(e,t,c+p),(1-s)*(1-(s=a()/l||.5))<=0&&(r=0),c/=s;w.style(e,t,(c*=2)+p),o=o||[]}return o&&(c=+c||+l||0,n=o[1]?c+(o[1]+1)*o[2]:+o[2],i&&(i.unit=p,i.start=c,i.end=n)),n}var re={};function ae(e){var t,o=e.ownerDocument,i=e.nodeName,n=re[i];return n||(t=o.body.appendChild(o.createElement(i)),n=w.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),re[i]=n,n)}function le(e,t){for(var o,i,n=[],s=0,r=e.length;s<r;s++)(i=e[s]).style&&(o=i.style.display,t?("none"===o&&(n[s]=U.get(i,"display")||null,n[s]||(i.style.display="")),""===i.style.display&&ie(i)&&(n[s]=ae(i))):"none"!==o&&(n[s]="none",U.set(i,"display",o)));for(s=0;s<r;s++)null!=n[s]&&(e[s].style.display=n[s]);return e}w.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,ce=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ue=/^$|^module$|\/(?:java|ecma)script/i,de={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function he(e,t){var o;return o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?w.merge([e],o):o}function fe(e,t){for(var o=0,i=e.length;o<i;o++)U.set(e[o],"globalEval",!t||U.get(t[o],"globalEval"))}de.optgroup=de.option,de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td;var ge,ve,me=/<|&#?\w+;/;function ye(e,t,o,i,n){for(var s,r,a,l,p,c,u=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((s=e[h])||0===s)if("object"===b(s))w.merge(d,s.nodeType?[s]:s);else if(me.test(s)){for(r=r||u.appendChild(t.createElement("div")),a=(ce.exec(s)||["",""])[1].toLowerCase(),r.innerHTML=(l=de[a]||de._default)[1]+w.htmlPrefilter(s)+l[2],c=l[0];c--;)r=r.lastChild;w.merge(d,r.childNodes),(r=u.firstChild).textContent=""}else d.push(t.createTextNode(s));for(u.textContent="",h=0;s=d[h++];)if(i&&w.inArray(s,i)>-1)n&&n.push(s);else if(p=w.contains(s.ownerDocument,s),r=he(u.appendChild(s),"script"),p&&fe(r),o)for(c=0;s=r[c++];)ue.test(s.type||"")&&o.push(s);return u}ge=i.createDocumentFragment().appendChild(i.createElement("div")),(ve=i.createElement("input")).setAttribute("type","radio"),ve.setAttribute("checked","checked"),ve.setAttribute("name","t"),ge.appendChild(ve),f.checkClone=ge.cloneNode(!0).cloneNode(!0).lastChild.checked,ge.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!ge.cloneNode(!0).lastChild.defaultValue;var be=i.documentElement,we=/^key/,xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function ke(){return!1}function Me(){try{return i.activeElement}catch(e){}}function $e(e,t,o,i,n,s){var r,a;if("object"==typeof t){for(a in"string"!=typeof o&&(i=i||o,o=void 0),t)$e(e,a,o,i,t[a],s);return e}if(null==i&&null==n?(n=o,i=o=void 0):null==n&&("string"==typeof o?(n=i,i=void 0):(n=i,i=o,o=void 0)),!1===n)n=ke;else if(!n)return e;return 1===s&&(r=n,(n=function(e){return w().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=w.guid++)),e.each(function(){w.event.add(this,t,n,i,o)})}w.event={global:{},add:function(e,t,o,i,n){var s,r,a,l,p,c,u,d,h,f,g,v=U.get(e);if(v)for(o.handler&&(o=(s=o).handler,n=s.selector),n&&w.find.matchesSelector(be,n),o.guid||(o.guid=w.guid++),(l=v.events)||(l=v.events={}),(r=v.handle)||(r=v.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),p=(t=(t||"").match(E)||[""]).length;p--;)h=g=(a=Se.exec(t[p])||[])[1],f=(a[2]||"").split(".").sort(),h&&(u=w.event.special[h]||{},u=w.event.special[h=(n?u.delegateType:u.bindType)||h]||{},c=w.extend({type:h,origType:g,data:i,handler:o,guid:o.guid,selector:n,needsContext:n&&w.expr.match.needsContext.test(n),namespace:f.join(".")},s),(d=l[h])||((d=l[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,f,r)||e.addEventListener&&e.addEventListener(h,r)),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=o.guid)),n?d.splice(d.delegateCount++,0,c):d.push(c),w.event.global[h]=!0)},remove:function(e,t,o,i,n){var s,r,a,l,p,c,u,d,h,f,g,v=U.hasData(e)&&U.get(e);if(v&&(l=v.events)){for(p=(t=(t||"").match(E)||[""]).length;p--;)if(h=g=(a=Se.exec(t[p])||[])[1],f=(a[2]||"").split(".").sort(),h){for(u=w.event.special[h]||{},d=l[h=(i?u.delegateType:u.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=d.length;s--;)c=d[s],!n&&g!==c.origType||o&&o.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(e,c));r&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,f,v.handle)||w.removeEvent(e,h,v.handle),delete l[h])}else for(h in l)w.event.remove(e,h+t[p],o,i,!0);w.isEmptyObject(l)&&U.remove(e,"handle events")}},dispatch:function(e){var t,o,i,n,s,r,a=w.event.fix(e),l=new Array(arguments.length),p=(U.get(this,"events")||{})[a.type]||[],c=w.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(r=w.event.handlers.call(this,a,p),t=0;(n=r[t++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,o=0;(s=n.handlers[o++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(i=((w.event.special[s.origType]||{}).handle||s.handler).apply(n.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var o,i,n,s,r,a=[],l=t.delegateCount,p=e.target;if(l&&p.nodeType&&!("click"===e.type&&e.button>=1))for(;p!==this;p=p.parentNode||this)if(1===p.nodeType&&("click"!==e.type||!0!==p.disabled)){for(s=[],r={},o=0;o<l;o++)void 0===r[n=(i=t[o]).selector+" "]&&(r[n]=i.needsContext?w(n,this).index(p)>-1:w.find(n,this,null,[p]).length),r[n]&&s.push(i);s.length&&a.push({elem:p,handlers:s})}return p=this,l<t.length&&a.push({elem:p,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Me()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Me()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&D(this,"input"))return this.click(),!1},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,o){e.removeEventListener&&e.removeEventListener(t,o)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var o,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||w.contains(this,i))||(e.type=n.origType,o=n.handler.apply(this,arguments),e.type=t),o}}}),w.fn.extend({on:function(e,t,o,i){return $e(this,e,t,o,i)},one:function(e,t,o,i){return $e(this,e,t,o,i,1)},off:function(e,t,o){var i,n;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(o=t,t=void 0),!1===o&&(o=ke),this.each(function(){w.event.remove(this,e,o,t)})}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Te=/<script|<style|<link/i,_e=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ve(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ge(e,t){var o,i,n,s,r,a,l,p;if(1===t.nodeType){if(U.hasData(e)&&(s=U.access(e),r=U.set(t,s),p=s.events))for(n in delete r.handle,r.events={},p)for(o=0,i=p[n].length;o<i;o++)w.event.add(t,n,p[n][o]);Z.hasData(e)&&(a=Z.access(e),l=w.extend({},a),Z.set(t,l))}}function Ee(e,t,o,i){t=r.apply([],t);var n,s,a,l,p,c,u=0,d=e.length,h=d-1,v=t[0],m=g(v);if(m||d>1&&"string"==typeof v&&!f.checkClone&&_e.test(v))return e.each(function(n){var s=e.eq(n);m&&(t[0]=v.call(this,n,s.html())),Ee(s,t,o,i)});if(d&&(s=(n=ye(t,e[0].ownerDocument,!1,e,i)).firstChild,1===n.childNodes.length&&(n=s),s||i)){for(l=(a=w.map(he(n,"script"),Le)).length;u<d;u++)p=n,u!==h&&(p=w.clone(p,!0,!0),l&&w.merge(a,he(p,"script"))),o.call(e[u],p,u);if(l)for(c=a[a.length-1].ownerDocument,w.map(a,Oe),u=0;u<l;u++)ue.test((p=a[u]).type||"")&&!U.access(p,"globalEval")&&w.contains(c,p)&&(p.src&&"module"!==(p.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(p.src):y(p.textContent.replace(Be,""),c,p))}return e}function Re(e,t,o){for(var i,n=t?w.filter(t,e):e,s=0;null!=(i=n[s]);s++)o||1!==i.nodeType||w.cleanData(he(i)),i.parentNode&&(o&&w.contains(i.ownerDocument,i)&&fe(he(i,"script")),i.parentNode.removeChild(i));return e}w.extend({htmlPrefilter:function(e){return e.replace(De,"<$1></$2>")},clone:function(e,t,o){var i,n,s,r,a,l,p,c=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(r=he(c),i=0,n=(s=he(e)).length;i<n;i++)a=s[i],"input"===(p=(l=r[i]).nodeName.toLowerCase())&&pe.test(a.type)?l.checked=a.checked:"input"!==p&&"textarea"!==p||(l.defaultValue=a.defaultValue);if(t)if(o)for(s=s||he(e),r=r||he(c),i=0,n=s.length;i<n;i++)Ge(s[i],r[i]);else Ge(e,c);return(r=he(c,"script")).length>0&&fe(r,!u&&he(e,"script")),c},cleanData:function(e){for(var t,o,i,n=w.event.special,s=0;void 0!==(o=e[s]);s++)if(X(o)){if(t=o[U.expando]){if(t.events)for(i in t.events)n[i]?w.event.remove(o,i):w.removeEvent(o,i,t.handle);o[U.expando]=void 0}o[Z.expando]&&(o[Z.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return F(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ee(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ve(this,e).appendChild(e)})},prepend:function(){return Ee(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ve(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ee(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ee(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(he(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return F(this,function(e){var t=this[0]||{},o=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!de[(ce.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;o<i;o++)1===(t=this[o]||{}).nodeType&&(w.cleanData(he(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ee(this,arguments,function(t){var o=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(he(this)),o&&o.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var o,i=[],n=w(e),s=n.length-1,r=0;r<=s;r++)o=r===s?this:this.clone(!0),w(n[r])[t](o),a.apply(i,o.get());return this.pushStack(i)}});var Ae=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),je=function(t){var o=t.ownerDocument.defaultView;return o&&o.opener||(o=e),o.getComputedStyle(t)},He=new RegExp(oe.join("|"),"i");function Ne(e,t,o){var i,n,s,r,a=e.style;return(o=o||je(e))&&(""!==(r=o.getPropertyValue(t)||o[t])||w.contains(e.ownerDocument,e)||(r=w.style(e,t)),!f.pixelBoxStyles()&&Ae.test(r)&&He.test(t)&&(i=a.width,n=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=o.width,a.width=i,a.minWidth=n,a.maxWidth=s)),void 0!==r?r+"":r}function Pe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){p.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(p).appendChild(c);var t=e.getComputedStyle(c);n="1%"!==t.top,l=12===o(t.marginLeft),c.style.right="60%",a=36===o(t.right),s=36===o(t.width),c.style.position="absolute",r=36===c.offsetWidth||"absolute",be.removeChild(p),c=null}}function o(e){return Math.round(parseFloat(e))}var n,s,r,a,l,p=i.createElement("div"),c=i.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(f,{boxSizingReliable:function(){return t(),s},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),r}}))}();var Fe=/^(none|table(?!-c[ea]).+)/,Ie=/^--/,ze={position:"absolute",visibility:"hidden",display:"block"},qe={letterSpacing:"0",fontWeight:"400"},We=["Webkit","Moz","ms"],Xe=i.createElement("div").style;function Ye(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=function(e){if(e in Xe)return e;for(var t=e[0].toUpperCase()+e.slice(1),o=We.length;o--;)if((e=We[o]+t)in Xe)return e}(e)||e),t}function Ue(e,t,o){var i=te.exec(t);return i?Math.max(0,i[2]-(o||0))+(i[3]||"px"):t}function Ze(e,t,o,i,n,s){var r="width"===t?1:0,a=0,l=0;if(o===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===o&&(l+=w.css(e,o+oe[r],!0,n)),i?("content"===o&&(l-=w.css(e,"padding"+oe[r],!0,n)),"margin"!==o&&(l-=w.css(e,"border"+oe[r]+"Width",!0,n))):(l+=w.css(e,"padding"+oe[r],!0,n),"padding"!==o?l+=w.css(e,"border"+oe[r]+"Width",!0,n):a+=w.css(e,"border"+oe[r]+"Width",!0,n));return!i&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))),l}function Qe(e,t,o){var i=je(e),n=Ne(e,t,i),s="border-box"===w.css(e,"boxSizing",!1,i),r=s;if(Ae.test(n)){if(!o)return n;n="auto"}return r=r&&(f.boxSizingReliable()||n===e.style[t]),("auto"===n||!parseFloat(n)&&"inline"===w.css(e,"display",!1,i))&&(n=e["offset"+t[0].toUpperCase()+t.slice(1)],r=!0),(n=parseFloat(n)||0)+Ze(e,t,o||(s?"border":"content"),r,i,n)+"px"}function Je(e,t,o,i,n){return new Je.prototype.init(e,t,o,i,n)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var o=Ne(e,"opacity");return""===o?"1":o}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,o,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,s,r,a=W(t),l=Ie.test(t),p=e.style;if(l||(t=Ye(a)),r=w.cssHooks[t]||w.cssHooks[a],void 0===o)return r&&"get"in r&&void 0!==(n=r.get(e,!1,i))?n:p[t];"string"==(s=typeof o)&&(n=te.exec(o))&&n[1]&&(o=se(e,t,n),s="number"),null!=o&&o==o&&("number"===s&&(o+=n&&n[3]||(w.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==o||0!==t.indexOf("background")||(p[t]="inherit"),r&&"set"in r&&void 0===(o=r.set(e,o,i))||(l?p.setProperty(t,o):p[t]=o))}},css:function(e,t,o,i){var n,s,r,a=W(t);return Ie.test(t)||(t=Ye(a)),(r=w.cssHooks[t]||w.cssHooks[a])&&"get"in r&&(n=r.get(e,!0,o)),void 0===n&&(n=Ne(e,t,i)),"normal"===n&&t in qe&&(n=qe[t]),""===o||o?(s=parseFloat(n),!0===o||isFinite(s)?s||0:n):n}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,o,i){if(o)return!Fe.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,i):ne(e,ze,function(){return Qe(e,t,i)})},set:function(e,o,i){var n,s=je(e),r="border-box"===w.css(e,"boxSizing",!1,s),a=i&&Ze(e,t,i,r,s);return r&&f.scrollboxSize()===s.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-Ze(e,t,"border",!1,s)-.5)),a&&(n=te.exec(o))&&"px"!==(n[3]||"px")&&(e.style[t]=o,o=w.css(e,t)),Ue(0,o,a)}}}),w.cssHooks.marginLeft=Pe(f.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ne(e,"marginLeft"))||e.getBoundingClientRect().left-ne(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(o){for(var i=0,n={},s="string"==typeof o?o.split(" "):[o];i<4;i++)n[e+oe[i]+t]=s[i]||s[i-2]||s[0];return n}},"margin"!==e&&(w.cssHooks[e+t].set=Ue)}),w.fn.extend({css:function(e,t){return F(this,function(e,t,o){var i,n,s={},r=0;if(Array.isArray(t)){for(i=je(e),n=t.length;r<n;r++)s[t[r]]=w.css(e,t[r],!1,i);return s}return void 0!==o?w.style(e,t,o):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=Je,(Je.prototype={constructor:Je,init:function(e,t,o,i,n,s){this.elem=e,this.prop=o,this.easing=n||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(w.cssNumber[o]?"":"px")},cur:function(){var e=Je.propHooks[this.prop];return e&&e.get?e.get(this):Je.propHooks._default.get(this)},run:function(e){var t,o=Je.propHooks[this.prop];return this.pos=t=this.options.duration?w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):Je.propHooks._default.set(this),this}}).init.prototype=Je.prototype,(Je.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Je.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=Je.prototype.init,w.fx.step={};var Ke,et,tt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function it(){et&&(!1===i.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(it):e.setTimeout(it,w.fx.interval),w.fx.tick())}function nt(){return e.setTimeout(function(){Ke=void 0}),Ke=Date.now()}function st(e,t){var o,i=0,n={height:e};for(t=t?1:0;i<4;i+=2-t)n["margin"+(o=oe[i])]=n["padding"+o]=e;return t&&(n.opacity=n.width=e),n}function rt(e,t,o){for(var i,n=(at.tweeners[t]||[]).concat(at.tweeners["*"]),s=0,r=n.length;s<r;s++)if(i=n[s].call(o,t,e))return i}function at(e,t,o){var i,n,s=0,r=at.prefilters.length,a=w.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var t=Ke||nt(),o=Math.max(0,p.startTime+p.duration-t),i=1-(o/p.duration||0),s=0,r=p.tweens.length;s<r;s++)p.tweens[s].run(i);return a.notifyWith(e,[p,i,o]),i<1&&r?o:(r||a.notifyWith(e,[p,1,0]),a.resolveWith(e,[p]),!1)},p=a.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},o),originalProperties:t,originalOptions:o,startTime:Ke||nt(),duration:o.duration,tweens:[],createTween:function(t,o){var i=w.Tween(e,p.opts,t,o,p.opts.specialEasing[t]||p.opts.easing);return p.tweens.push(i),i},stop:function(t){var o=0,i=t?p.tweens.length:0;if(n)return this;for(n=!0;o<i;o++)p.tweens[o].run(1);return t?(a.notifyWith(e,[p,1,0]),a.resolveWith(e,[p,t])):a.rejectWith(e,[p,t]),this}}),c=p.props;for(function(e,t){var o,i,n,s,r;for(o in e)if(n=t[i=W(o)],s=e[o],Array.isArray(s)&&(n=s[1],s=e[o]=s[0]),o!==i&&(e[i]=s,delete e[o]),(r=w.cssHooks[i])&&"expand"in r)for(o in s=r.expand(s),delete e[i],s)o in e||(e[o]=s[o],t[o]=n);else t[i]=n}(c,p.opts.specialEasing);s<r;s++)if(i=at.prefilters[s].call(p,e,c,p.opts))return g(i.stop)&&(w._queueHooks(p.elem,p.opts.queue).stop=i.stop.bind(i)),i;return w.map(c,rt,p),g(p.opts.start)&&p.opts.start.call(e,p),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:p,queue:p.opts.queue})),p}w.Animation=w.extend(at,{tweeners:{"*":[function(e,t){var o=this.createTween(e,t);return se(o.elem,e,te.exec(t),o),o}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(E);for(var o,i=0,n=e.length;i<n;i++)(at.tweeners[o=e[i]]=at.tweeners[o]||[]).unshift(t)},prefilters:[function(e,t,o){var i,n,s,r,a,l,p,c,u="width"in t||"height"in t,d=this,h={},f=e.style,g=e.nodeType&&ie(e),v=U.get(e,"fxshow");for(i in o.queue||(null==(r=w._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,d.always(function(){d.always(function(){r.unqueued--,w.queue(e,"fx").length||r.empty.fire()})})),t)if(tt.test(n=t[i])){if(delete t[i],s=s||"toggle"===n,n===(g?"hide":"show")){if("show"!==n||!v||void 0===v[i])continue;g=!0}h[i]=v&&v[i]||w.style(e,i)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(h))for(i in u&&1===e.nodeType&&(o.overflow=[f.overflow,f.overflowX,f.overflowY],null==(p=v&&v.display)&&(p=U.get(e,"display")),"none"===(c=w.css(e,"display"))&&(p?c=p:(le([e],!0),p=e.style.display||p,c=w.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=p)&&"none"===w.css(e,"float")&&(l||(d.done(function(){f.display=p}),null==p&&(p="none"===(c=f.display)?"":c)),f.display="inline-block")),o.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=o.overflow[0],f.overflowX=o.overflow[1],f.overflowY=o.overflow[2]})),l=!1,h)l||(v?"hidden"in v&&(g=v.hidden):v=U.access(e,"fxshow",{display:p}),s&&(v.hidden=!g),g&&le([e],!0),d.done(function(){for(i in g||le([e]),U.remove(e,"fxshow"),h)w.style(e,i,h[i])})),l=rt(g?v[i]:0,i,d),i in v||(v[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?at.prefilters.unshift(e):at.prefilters.push(e)}}),w.speed=function(e,t,o){var i=e&&"object"==typeof e?w.extend({},e):{complete:o||!o&&t||g(e)&&e,duration:e,easing:o&&t||t&&!g(t)&&t};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in w.fx.speeds?w.fx.speeds[i.duration]:w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(e,t,o,i){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,o,i)},animate:function(e,t,o,i){var n=w.isEmptyObject(e),s=w.speed(t,o,i),r=function(){var t=at(this,w.extend({},e),s);(n||U.get(this,"finish"))&&t.stop(!0)};return r.finish=r,n||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(e,t,o){var i=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof e&&(o=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=w.timers,r=U.get(this);if(n)r[n]&&r[n].stop&&i(r[n]);else for(n in r)r[n]&&r[n].stop&&ot.test(n)&&i(r[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(o),t=!1,s.splice(n,1));!t&&o||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,o=U.get(this),i=o[e+"queue"],n=o[e+"queueHooks"],s=w.timers,r=i?i.length:0;for(o.finish=!0,w.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete o.finish})}}),w.each(["toggle","show","hide"],function(e,t){var o=w.fn[t];w.fn[t]=function(e,i,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(st(t,!0),e,i,n)}}),w.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,o,i){return this.animate(t,e,o,i)}}),w.timers=[],w.fx.tick=function(){var e,t=0,o=w.timers;for(Ke=Date.now();t<o.length;t++)(e=o[t])()||o[t]!==e||o.splice(t--,1);o.length||w.fx.stop(),Ke=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){et||(et=!0,it())},w.fx.stop=function(){et=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,o){return t=w.fx&&w.fx.speeds[t]||t,this.queue(o=o||"fx",function(o,i){var n=e.setTimeout(o,t);i.stop=function(){e.clearTimeout(n)}})},function(){var e=i.createElement("input"),t=i.createElement("select").appendChild(i.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=t.selected,(e=i.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var lt,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return F(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,o){var i,n,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?w.prop(e,t,o):(1===s&&w.isXMLDoc(e)||(n=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?lt:void 0)),void 0!==o?null===o?void w.removeAttr(e,t):n&&"set"in n&&void 0!==(i=n.set(e,o,t))?i:(e.setAttribute(t,o+""),o):n&&"get"in n&&null!==(i=n.get(e,t))?i:null==(i=w.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&D(e,"input")){var o=e.value;return e.setAttribute("type",t),o&&(e.value=o),t}}}},removeAttr:function(e,t){var o,i=0,n=t&&t.match(E);if(n&&1===e.nodeType)for(;o=n[i++];)e.removeAttribute(o)}}),lt={set:function(e,t,o){return!1===t?w.removeAttr(e,o):e.setAttribute(o,o),o}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var o=pt[t]||w.find.attr;pt[t]=function(e,t,i){var n,s,r=t.toLowerCase();return i||(s=pt[r],pt[r]=n,n=null!=o(e,t,i)?r:null,pt[r]=s),n}});var ct=/^(?:input|select|textarea|button)$/i,ut=/^(?:a|area)$/i;function dt(e){return(e.match(E)||[]).join(" ")}function ht(e){return e.getAttribute&&e.getAttribute("class")||""}function ft(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(E)||[]}w.fn.extend({prop:function(e,t){return F(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,o){var i,n,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&w.isXMLDoc(e)||(n=w.propHooks[t=w.propFix[t]||t]),void 0!==o?n&&"set"in n&&void 0!==(i=n.set(e,o,t))?i:e[t]=o:n&&"get"in n&&null!==(i=n.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||ut.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(w.propHooks.selected={get:function(e){return null},set:function(e){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,o,i,n,s,r,a,l=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,ht(this)))});if((t=ft(e)).length)for(;o=this[l++];)if(n=ht(o),i=1===o.nodeType&&" "+dt(n)+" "){for(r=0;s=t[r++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");n!==(a=dt(i))&&o.setAttribute("class",a)}return this},removeClass:function(e){var t,o,i,n,s,r,a,l=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,ht(this)))});if(!arguments.length)return this.attr("class","");if((t=ft(e)).length)for(;o=this[l++];)if(n=ht(o),i=1===o.nodeType&&" "+dt(n)+" "){for(r=0;s=t[r++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");n!==(a=dt(i))&&o.setAttribute("class",a)}return this},toggleClass:function(e,t){var o=typeof e,i="string"===o||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(o){w(this).toggleClass(e.call(this,o,ht(this),t),t)}):this.each(function(){var t,n,s,r;if(i)for(n=0,s=w(this),r=ft(e);t=r[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==o||((t=ht(this))&&U.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":U.get(this,"__className__")||""))})},hasClass:function(e){var t,o,i=0;for(t=" "+e+" ";o=this[i++];)if(1===o.nodeType&&(" "+dt(ht(o))+" ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g;w.fn.extend({val:function(e){var t,o,i,n=this[0];return arguments.length?(i=g(e),this.each(function(o){var n;1===this.nodeType&&(null==(n=i?e.call(this,o,w(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=w.map(n,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))})):n?(t=w.valHooks[n.type]||w.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(o=t.get(n,"value"))?o:"string"==typeof(o=n.value)?o.replace(gt,""):null==o?"":o:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:dt(w.text(e))}},select:{get:function(e){var t,o,i,n=e.options,s=e.selectedIndex,r="select-one"===e.type,a=r?null:[],l=r?s+1:n.length;for(i=s<0?l:r?s:0;i<l;i++)if(((o=n[i]).selected||i===s)&&!o.disabled&&(!o.parentNode.disabled||!D(o.parentNode,"optgroup"))){if(t=w(o).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var o,i,n=e.options,s=w.makeArray(t),r=n.length;r--;)((i=n[r]).selected=w.inArray(w.valHooks.option.get(i),s)>-1)&&(o=!0);return o||(e.selectedIndex=-1),s}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},f.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),f.focusin="onfocusin"in e;var vt=/^(?:focusinfocus|focusoutblur)$/,mt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,o,n,s){var r,a,l,p,c,d,h,f,m=[n||i],y=u.call(t,"type")?t.type:t,b=u.call(t,"namespace")?t.namespace.split("."):[];if(a=f=l=n=n||i,3!==n.nodeType&&8!==n.nodeType&&!vt.test(y+w.event.triggered)&&(y.indexOf(".")>-1&&(y=(b=y.split(".")).shift(),b.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[w.expando]?t:new w.Event(y,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),o=null==o?[t]:w.makeArray(o,[t]),h=w.event.special[y]||{},s||!h.trigger||!1!==h.trigger.apply(n,o))){if(!s&&!h.noBubble&&!v(n)){for(vt.test((p=h.delegateType||y)+y)||(a=a.parentNode);a;a=a.parentNode)m.push(a),l=a;l===(n.ownerDocument||i)&&m.push(l.defaultView||l.parentWindow||e)}for(r=0;(a=m[r++])&&!t.isPropagationStopped();)f=a,t.type=r>1?p:h.bindType||y,(d=(U.get(a,"events")||{})[t.type]&&U.get(a,"handle"))&&d.apply(a,o),(d=c&&a[c])&&d.apply&&X(a)&&(t.result=d.apply(a,o),!1===t.result&&t.preventDefault());return t.type=y,s||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),o)||!X(n)||c&&g(n[y])&&!v(n)&&((l=n[c])&&(n[c]=null),w.event.triggered=y,t.isPropagationStopped()&&f.addEventListener(y,mt),n[y](),t.isPropagationStopped()&&f.removeEventListener(y,mt),w.event.triggered=void 0,l&&(n[c]=l)),t.result}},simulate:function(e,t,o){var i=w.extend(new w.Event,o,{type:e,isSimulated:!0});w.event.trigger(i,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var o=this[0];if(o)return w.event.trigger(e,t,o,!0)}}),f.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var o=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var i=this.ownerDocument||this,n=U.access(i,t);n||i.addEventListener(e,o,!0),U.access(i,t,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this,n=U.access(i,t)-1;n?U.access(i,t,n):(i.removeEventListener(e,o,!0),U.remove(i,t))}}});var yt=e.location,bt=Date.now(),wt=/\?/;w.parseXML=function(t){var o;if(!t||"string"!=typeof t)return null;try{o=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){o=void 0}return o&&!o.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),o};var xt=/\[\]$/,St=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function Mt(e,t,o,i){var n;if(Array.isArray(t))w.each(t,function(t,n){o||xt.test(e)?i(e,n):Mt(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,o,i)});else if(o||"object"!==b(t))i(e,t);else for(n in t)Mt(e+"["+n+"]",t[n],o,i)}w.param=function(e,t){var o,i=[],n=function(e,t){var o=g(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==o?"":o)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){n(this.name,this.value)});else for(o in e)Mt(o,e[o],t,n);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&kt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var o=w(this).val();return null==o?null:Array.isArray(o)?w.map(o,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:o.replace(St,"\r\n")}}).get()}});var $t=/%20/g,Dt=/#.*$/,Tt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,Vt=/^\/\//,Lt={},Ot={},Gt="*/".concat("*"),Et=i.createElement("a");function Rt(e){return function(t,o){"string"!=typeof t&&(o=t,t="*");var i,n=0,s=t.toLowerCase().match(E)||[];if(g(o))for(;i=s[n++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(o)):(e[i]=e[i]||[]).push(o)}}function At(e,t,o,i){var n={},s=e===Ot;function r(a){var l;return n[a]=!0,w.each(e[a]||[],function(e,a){var p=a(t,o,i);return"string"!=typeof p||s||n[p]?s?!(l=p):void 0:(t.dataTypes.unshift(p),r(p),!1)}),l}return r(t.dataTypes[0])||!n["*"]&&r("*")}function jt(e,t){var o,i,n=w.ajaxSettings.flatOptions||{};for(o in t)void 0!==t[o]&&((n[o]?e:i||(i={}))[o]=t[o]);return i&&w.extend(!0,e,i),e}Et.href=yt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(yt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,w.ajaxSettings),t):jt(w.ajaxSettings,e)},ajaxPrefilter:Rt(Lt),ajaxTransport:Rt(Ot),ajax:function(t,o){"object"==typeof t&&(o=t,t=void 0);var n,s,r,a,l,p,c,u,d,h,f=w.ajaxSetup({},o=o||{}),g=f.context||f,v=f.context&&(g.nodeType||g.jquery)?w(g):w.event,m=w.Deferred(),y=w.Callbacks("once memory"),b=f.statusCode||{},x={},S={},C="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=_t.exec(r);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?r:null},setRequestHeader:function(e,t){return null==c&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return n&&n.abort(t),M(0,t),this}};if(m.promise(k),f.url=((t||f.url||yt.href)+"").replace(Vt,yt.protocol+"//"),f.type=o.method||o.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(E)||[""],null==f.crossDomain){p=i.createElement("a");try{p.href=f.url,p.href=p.href,f.crossDomain=Et.protocol+"//"+Et.host!=p.protocol+"//"+p.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),At(Lt,f,o,k),c)return k;for(d in(u=w.event&&f.global)&&0==w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Bt.test(f.type),s=f.url.replace(Dt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace($t,"+")):(h=f.url.slice(s.length),f.data&&(f.processData||"string"==typeof f.data)&&(s+=(wt.test(s)?"&":"?")+f.data,delete f.data),!1===f.cache&&(s=s.replace(Tt,"$1"),h=(wt.test(s)?"&":"?")+"_="+bt+++h),f.url=s+h),f.ifModified&&(w.lastModified[s]&&k.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&k.setRequestHeader("If-None-Match",w.etag[s])),(f.data&&f.hasContent&&!1!==f.contentType||o.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Gt+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(g,k,f)||c))return k.abort();if(C="abort",y.add(f.complete),k.done(f.success),k.fail(f.error),n=At(Ot,f,o,k)){if(k.readyState=1,u&&v.trigger("ajaxSend",[k,f]),c)return k;f.async&&f.timeout>0&&(l=e.setTimeout(function(){k.abort("timeout")},f.timeout));try{c=!1,n.send(x,M)}catch(e){if(c)throw e;M(-1,e)}}else M(-1,"No Transport");function M(t,o,i,a){var p,d,h,x,S,C=o;c||(c=!0,l&&e.clearTimeout(l),n=void 0,r=a||"",k.readyState=t>0?4:0,p=t>=200&&t<300||304===t,i&&(x=function(e,t,o){for(var i,n,s,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(n in a)if(a[n]&&a[n].test(i)){l.unshift(n);break}if(l[0]in o)s=l[0];else{for(n in o){if(!l[0]||e.converters[n+" "+l[0]]){s=n;break}r||(r=n)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),o[s]}(f,k,i)),x=function(e,t,o,i){var n,s,r,a,l,p={},c=e.dataTypes.slice();if(c[1])for(r in e.converters)p[r.toLowerCase()]=e.converters[r];for(s=c.shift();s;)if(e.responseFields[s]&&(o[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=p[l+" "+s]||p["* "+s]))for(n in p)if((a=n.split(" "))[1]===s&&(r=p[l+" "+a[0]]||p["* "+a[0]])){!0===r?r=p[n]:!0!==p[n]&&(s=a[0],c.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(f,x,k,p),p?(f.ifModified&&((S=k.getResponseHeader("Last-Modified"))&&(w.lastModified[s]=S),(S=k.getResponseHeader("etag"))&&(w.etag[s]=S)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=x.state,d=x.data,p=!(h=x.error))):(h=C,!t&&C||(C="error",t<0&&(t=0))),k.status=t,k.statusText=(o||C)+"",p?m.resolveWith(g,[d,C,k]):m.rejectWith(g,[k,C,h]),k.statusCode(b),b=void 0,u&&v.trigger(p?"ajaxSuccess":"ajaxError",[k,f,p?d:h]),y.fireWith(g,[k,C]),u&&(v.trigger("ajaxComplete",[k,f]),--w.active||w.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,o){return w.get(e,t,o,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,o,i,n){return g(o)&&(n=n||i,i=o,o=void 0),w.ajax(w.extend({url:e,type:t,dataType:n,data:o,success:i},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),o=t.contents();o.length?o.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(o){w(this).wrapAll(t?e.call(this,o):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Nt=w.ajaxSettings.xhr();f.cors=!!Nt&&"withCredentials"in Nt,f.ajax=Nt=!!Nt,w.ajaxTransport(function(t){var o,i;if(f.cors||Nt&&!t.crossDomain)return{send:function(n,s){var r,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];for(r in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(r,n[r]);o=function(e){return function(){o&&(o=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ht[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=o(),i=a.onerror=a.ontimeout=o("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){o&&i()})},o=o("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,o;if(e.crossDomain)return{send:function(n,s){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",o=function(e){t.remove(),o=null,e&&s("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){o&&o()}}});var Pt,Ft=[],It=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ft.pop()||w.expando+"_"+bt++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,o,i){var n,s,r,a=!1!==t.jsonp&&(It.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&It.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(It,"$1"+n):!1!==t.jsonp&&(t.url+=(wt.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return r||w.error(n+" was not called"),r[0]},t.dataTypes[0]="json",s=e[n],e[n]=function(){r=arguments},i.always(function(){void 0===s?w(e).removeProp(n):e[n]=s,t[n]&&(t.jsonpCallback=o.jsonpCallback,Ft.push(n)),r&&g(s)&&s(r[0]),r=s=void 0}),"script"}),f.createHTMLDocument=((Pt=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Pt.childNodes.length),w.parseHTML=function(e,t,o){return"string"!=typeof e?[]:("boolean"==typeof t&&(o=t,t=!1),t||(f.createHTMLDocument?((n=(t=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,t.head.appendChild(n)):t=i),s=T.exec(e),r=!o&&[],s?[t.createElement(s[1])]:(s=ye([e],t,r),r&&r.length&&w(r).remove(),w.merge([],s.childNodes)));var n,s,r},w.fn.load=function(e,t,o){var i,n,s,r=this,a=e.indexOf(" ");return a>-1&&(i=dt(e.slice(a)),e=e.slice(0,a)),g(t)?(o=t,t=void 0):t&&"object"==typeof t&&(n="POST"),r.length>0&&w.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){s=arguments,r.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).always(o&&function(e,t){r.each(function(){o.apply(this,s||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,o){var i,n,s,r,a,l,p=w.css(e,"position"),c=w(e),u={};"static"===p&&(e.style.position="relative"),a=c.offset(),s=w.css(e,"top"),l=w.css(e,"left"),("absolute"===p||"fixed"===p)&&(s+l).indexOf("auto")>-1?(r=(i=c.position()).top,n=i.left):(r=parseFloat(s)||0,n=parseFloat(l)||0),g(t)&&(t=t.call(e,o,w.extend({},a))),null!=t.top&&(u.top=t.top-a.top+r),null!=t.left&&(u.left=t.left-a.left+n),"using"in t?t.using.call(e,u):c.css(u)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,o,i=this[0];return i?i.getClientRects().length?{top:(t=i.getBoundingClientRect()).top+(o=i.ownerDocument.defaultView).pageYOffset,left:t.left+o.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,o,i=this[0],n={top:0,left:0};if("fixed"===w.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),o=i.ownerDocument,e=i.offsetParent||o.documentElement;e&&(e===o.body||e===o.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((n=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),n.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-n.top-w.css(i,"marginTop",!0),left:t.left-n.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||be})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var o="pageYOffset"===t;w.fn[e]=function(i){return F(this,function(e,i,n){var s;if(v(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===n)return s?s[t]:e[i];s?s.scrollTo(o?s.pageXOffset:n,o?n:s.pageYOffset):e[i]=n},e,i,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=Pe(f.pixelPosition,function(e,o){if(o)return o=Ne(e,t),Ae.test(o)?w(e).position()[t]+"px":o})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(o,i){w.fn[i]=function(n,s){var r=arguments.length&&(o||"boolean"!=typeof n),a=o||(!0===n||!0===s?"margin":"border");return F(this,function(t,o,n){var s;return v(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===n?w.css(t,o,a):w.style(t,o,n,a)},t,r?n:void 0,r)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,o){return arguments.length>0?this.on(t,null,e,o):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,o){return this.on(e,null,t,o)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,o,i){return this.on(t,e,o,i)},undelegate:function(e,t,o){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",o)}}),w.proxy=function(e,t){var o,i,n;if("string"==typeof t&&(o=e[t],t=e,e=o),g(e))return i=s.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||w.guid++,n},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=D,w.isFunction=g,w.isWindow=v,w.camelCase=W,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var zt=e.jQuery,qt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=qt),t&&e.jQuery===w&&(e.jQuery=zt),w},t||(e.jQuery=e.$=w),w}),function(e){var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var o=t.length;o;)e.event.fixHooks[t[--o]]=e.event.mouseHooks;function i(t){var o=t||window.event,i=[].slice.call(arguments,1),n=0,s=0,r=0;return(t=e.event.fix(o)).type="mousewheel",o.wheelDelta&&(n=o.wheelDelta/120),o.detail&&(n=-o.detail/3),r=n,void 0!==o.axis&&o.axis===o.HORIZONTAL_AXIS&&(r=0,s=-1*n),void 0!==o.wheelDeltaY&&(r=o.wheelDeltaY/120),void 0!==o.wheelDeltaX&&(s=-1*o.wheelDeltaX/120),i.unshift(t,n,s,r),(e.event.dispatch||e.event.handle).apply(this,i)}e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,t,o){"use strict";var i,n,s,r,a,l,p,c,u,d,h,f,g,v,m,y,b,w,x,S,C,k,M,$,D,T,_;S={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},m="scroll",p="mousedown",c="mouseenter",u="mousemove",h="mousewheel",d="mouseup",v="resize",a="drag",l="enter",b="up",g="panedown",s="DOMMouseScroll",r="down",w="wheel",y="touchmove",i="Microsoft Internet Explorer"===t.navigator.appName&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject,n=null,$=t.requestAnimationFrame,x=t.cancelAnimationFrame,T=o.createElement("div").style,_=function(){var e,t,o,i;for(e=o=0,i=(t=["t","webkitT","MozT","msT","OT"]).length;i>o;e=++o)if(t[e]+"ransform"in T)return t[e].substr(0,t[e].length-1);return!1}(),D=function(e){return!1!==_&&(""===_?e:_+e.charAt(0).toUpperCase()+e.substr(1))}("transform"),k=!1!==D,C=function(){var e,t,i;return(t=(e=o.createElement("div")).style).position="absolute",t.width="100px",t.height="100px",t.overflow=m,t.top="-9999px",o.body.appendChild(e),i=e.offsetWidth-e.clientWidth,o.body.removeChild(e),i},M=function(){var e,o,i;return!!(e=/(?=.+Mac OS X)(?=.+Firefox)/.test(o=t.navigator.userAgent))&&((i=/Firefox\/\d{2}\./.exec(o))&&(i=i[0].replace(/\D+/g,"")),e&&+i>23)},f=function(){function f(i,s){this.el=i,this.options=s,n||(n=C()),this.$el=e(this.el),this.doc=e(this.options.documentContext||o),this.win=e(this.options.windowContext||t),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return f.prototype.preventScrolling=function(e,t){if(this.isActive)if(e.type===s)(t===r&&e.originalEvent.detail>0||t===b&&e.originalEvent.detail<0)&&e.preventDefault();else if(e.type===h){if(!e.originalEvent||!e.originalEvent.wheelDelta)return;(t===r&&e.originalEvent.wheelDelta<0||t===b&&e.originalEvent.wheelDelta>0)&&e.preventDefault()}},f.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},f.prototype.updateScrollValues=function(){var e,t;this.maxScrollTop=(e=this.content).scrollHeight-e.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=e.scrollTop,t=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==t&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:t}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},f.prototype.setOnScrollStyles=function(){var e,t;k?(e={})[D]="translate(0, "+this.sliderTop+"px)":e={top:this.sliderTop},$?(x&&this.scrollRAF&&x(this.scrollRAF),this.scrollRAF=$((t=this,function(){return t.scrollRAF=null,t.slider.css(e)}))):this.slider.css(e)},f.prototype.createEvents=function(){var e;this.events={down:(e=this,function(t){return e.isBeingDragged=!0,e.offsetY=t.pageY-e.slider.offset().top,e.slider.is(t.target)||(e.offsetY=0),e.pane.addClass(e.options.activeClass),e.doc.bind(u,e.events[a]).bind(d,e.events.up),e.body.bind(c,e.events[l]),!1}),drag:function(e){return function(t){return e.sliderY=t.pageY-e.$el.offset().top-e.paneTop-(e.offsetY||.5*e.sliderHeight),e.scroll(),e.contentScrollTop>=e.maxScrollTop&&e.prevScrollTop!==e.maxScrollTop?e.$el.trigger("scrollend"):0===e.contentScrollTop&&0!==e.prevScrollTop&&e.$el.trigger("scrolltop"),!1}}(this),up:function(e){return function(t){return e.isBeingDragged=!1,e.pane.removeClass(e.options.activeClass),e.doc.unbind(u,e.events[a]).unbind(d,e.events.up),e.body.unbind(c,e.events[l]),!1}}(this),resize:function(e){return function(t){e.reset()}}(this),panedown:function(e){return function(t){return e.sliderY=(t.offsetY||t.originalEvent.layerY)-.5*e.sliderHeight,e.scroll(),e.events.down(t),!1}}(this),scroll:function(e){return function(t){e.updateScrollValues(),e.isBeingDragged||(e.iOSNativeScrolling||(e.sliderY=e.sliderTop,e.setOnScrollStyles()),null!=t&&(e.contentScrollTop>=e.maxScrollTop?(e.options.preventPageScrolling&&e.preventScrolling(t,r),e.prevScrollTop!==e.maxScrollTop&&e.$el.trigger("scrollend")):0===e.contentScrollTop&&(e.options.preventPageScrolling&&e.preventScrolling(t,b),0!==e.prevScrollTop&&e.$el.trigger("scrolltop"))))}}(this),wheel:function(e){return function(t){var o;if(null!=t)return(o=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail)&&(e.sliderY+=-o/3),e.scroll(),!1}}(this),enter:function(e){return function(t){var o;if(e.isBeingDragged)return 1!==(t.buttons||t.which)?(o=e.events).up.apply(o,arguments):void 0}}(this)}},f.prototype.addEvents=function(){var e;this.removeEvents(),e=this.events,this.options.disableResize||this.win.bind(v,e[v]),this.iOSNativeScrolling||(this.slider.bind(p,e[r]),this.pane.bind(p,e[g]).bind(h+" "+s,e[w])),this.$content.bind(m+" "+h+" "+s+" "+y,e[m])},f.prototype.removeEvents=function(){var e;this.win.unbind(v,(e=this.events)[v]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(m+" "+h+" "+s+" "+y,e[m])},f.prototype.generate=function(){var e,o,i,s,r;return r=(o=this.options).sliderClass,(i=this.$el.children("."+(s=o.paneClass))).length||i.children("."+r).length||this.$el.append('<div class="'+s+'"><div class="'+r+'" /></div>'),this.pane=this.$el.children("."+s),this.slider=this.pane.find("."+r),0===n&&M()?e={right:-14,paddingRight:+t.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,"")+14}:n&&(e={right:-n},this.$el.addClass(o.enabledClass)),null!=e&&this.$content.css(e),this},f.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},f.prototype.reset=function(){var e,t,o,s,r,a,l,p,c,u,d;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),r=(s=(e=this.content).style).overflowY,i&&this.$content.css({height:this.$content.height()}),t=e.scrollHeight+n,(c=parseInt(this.$el.css("max-height"),10))>0&&(this.$el.height(""),this.$el.height(e.scrollHeight>c?c:e.scrollHeight)),l=(a=this.pane.outerHeight(!1))+(p=parseInt(this.pane.css("top"),10))+parseInt(this.pane.css("bottom"),10),(d=Math.round(l/t*a))<this.options.sliderMinHeight?d=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&d>this.options.sliderMaxHeight&&(d=this.options.sliderMaxHeight),r===m&&s.overflowX!==m&&(d+=n),this.maxSliderTop=l-d,this.contentHeight=t,this.paneHeight=a,this.paneOuterHeight=l,this.sliderHeight=d,this.paneTop=p,this.slider.height(d),this.events.scroll(),this.pane.show(),this.isActive=!0,e.scrollHeight===e.clientHeight||this.pane.outerHeight(!0)>=e.scrollHeight&&r!==m?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===e.scrollHeight&&r===m?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),("static"===(o=this.$content.css("position"))||"relative"===o)&&(u=parseInt(this.$content.css("right"),10))&&this.$content.css({right:"",marginRight:u}),this)},f.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},f.prototype.scrollBottom=function(e){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-e).trigger(h),this.stop().restore(),this):void 0},f.prototype.scrollTop=function(e){return this.isActive?(this.$content.scrollTop(+e).trigger(h),this.stop().restore(),this):void 0},f.prototype.scrollTo=function(e){return this.isActive?(this.scrollTop(this.$el.find(e).get(0).offsetTop),this):void 0},f.prototype.stop=function(){return x&&this.scrollRAF&&(x(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},f.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),i&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass(this.options.enabledClass)&&(this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""})),this},f.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout((e=this,function(){e.pane.removeClass(e.options.flashedClass)}),this.options.flashDelay),this):void 0;var e},f}(),e.fn.nanoScroller=function(t){return this.each(function(){var o,i;if((i=this.nanoscroller)||(o=e.extend({},S,t),this.nanoscroller=i=new f(this,o)),t&&"object"==typeof t){if(e.extend(i.options,t),null!=t.scrollBottom)return i.scrollBottom(t.scrollBottom);if(null!=t.scrollTop)return i.scrollTop(t.scrollTop);if(t.scrollTo)return i.scrollTo(t.scrollTo);if("bottom"===t.scroll)return i.scrollBottom(0);if("top"===t.scroll)return i.scrollTop(0);if(t.scroll&&t.scroll instanceof e)return i.scrollTo(t.scroll);if(t.stop)return i.stop();if(t.destroy)return i.destroy();if(t.flash)return i.flash()}return i.reset()})},e.fn.nanoScroller.Constructor=f});var MapSVG={};window.MapSVG=MapSVG,MapSVG.templatesLoaded={},"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),Math.hypot=Math.hypot||function(){for(var e=0,t=arguments.length,o=0;o<t;o++){if(arguments[o]===1/0||arguments[o]===-1/0)return 1/0;e+=arguments[o]*arguments[o]}return Math.sqrt(e)},SVGElement.prototype.getTransformToElement=SVGElement.prototype.getTransformToElement||function(e){return e.getScreenCTM().inverse().multiply(this.getScreenCTM())},function($,window,MapSVG,Math){MapSVG.ResizeSensor=function(e,t){var o=this;o.element=e,o.callback=t;var i=parseInt(getComputedStyle(e));isNaN(i)&&(i=0),i--,o.expand=document.createElement("div"),o.expand.style.position="absolute",o.expand.style.left="0px",o.expand.style.top="0px",o.expand.style.right="0px",o.expand.style.bottom="0px",o.expand.style.overflow="hidden",o.expand.style.zIndex=i,o.expand.style.visibility="hidden";var n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.width="10000000px",n.style.height="10000000px",o.expand.appendChild(n),o.shrink=document.createElement("div"),o.shrink.style.position="absolute",o.shrink.style.left="0px",o.shrink.style.top="0px",o.shrink.style.right="0px",o.shrink.style.bottom="0px",o.shrink.style.overflow="hidden",o.shrink.style.zIndex=i,o.shrink.style.visibility="hidden";var s=document.createElement("div");s.style.position="absolute",s.style.left="0px",s.style.top="0px",s.style.width="200%",s.style.height="200%",o.shrink.appendChild(s),o.element.appendChild(o.expand),o.element.appendChild(o.shrink);var r=e.getBoundingClientRect();o.currentWidth=r.width,o.currentHeight=r.height,o.setScroll(),o.expand.addEventListener("scroll",function(){o.onScroll()}),o.shrink.addEventListener("scroll",function(){o.onScroll()})},MapSVG.ResizeSensor.prototype.onScroll=function(){var e=this.element.getBoundingClientRect(),t=e.width,o=e.height;t==this.currentWidth&&o==this.currentHeight||(this.currentWidth=t,this.currentHeight=o,this.callback()),this.setScroll()},MapSVG.ResizeSensor.prototype.setScroll=function(){this.expand.scrollLeft=1e7,this.expand.scrollTop=1e7,this.shrink.scrollLeft=1e7,this.shrink.scrollTop=1e7},MapSVG.ResizeSensor.prototype.destroy=function(){this.expand.remove(),this.shrink.remove()},MapSVG.userAgent=navigator.userAgent.toLowerCase(),MapSVG.touchDevice=MapSVG.userAgent.indexOf("ipad")>-1||MapSVG.userAgent.indexOf("iphone")>-1||MapSVG.userAgent.indexOf("ipod")>-1||MapSVG.userAgent.indexOf("android")>-1,MapSVG.ios=MapSVG.userAgent.indexOf("ipad")>-1||MapSVG.userAgent.indexOf("iphone")>-1||MapSVG.userAgent.indexOf("ipod")>-1,MapSVG.android=MapSVG.userAgent.indexOf("android"),MapSVG.isPhone=window.matchMedia("only screen and (max-width: 812px)").matches,MapSVG.browser={},MapSVG.browser.ie=(MapSVG.userAgent.indexOf("msie")>-1||MapSVG.userAgent.indexOf("trident")>-1||MapSVG.userAgent.indexOf("edge")>-1)&&{},MapSVG.browser.firefox=MapSVG.userAgent.indexOf("firefox")>-1,String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),MapSVG.mouseCoords=function(e){return e.clientX?{x:e.clientX+$(document).scrollLeft(),y:e.clientY+$(document).scrollTop()}:e.pageX?{x:e.pageX,y:e.pageY}:MapSVG.touchDevice?(e=e.originalEvent||e).touches&&e.touches[0]?{x:e.touches[0].pageX,y:e.touches[0].pageY}:{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:void 0},MapSVG.get=function(e){return jQuery(".mapsvg").eq(e).mapSvg()},MapSVG.extend=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},MapSVG.ucfirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},MapSVG.parseBoolean=function(e){switch(String(e).toLowerCase()){case"on":case"true":case"1":case"yes":case"y":return!0;case"off":case"false":case"0":case"no":case"n":return!1;default:return}},MapSVG.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},MapSVG.safeURL=function(e){return 0!=e.indexOf("http://")&&0!=e.indexOf("https://")||(e="//"+e.split("://").pop()),e.replace(/^.*\/\/[^\/]+/,"")},MapSVG.convertToText=function(e){var t=[];if(void 0==e)return String(e);if("object"==typeof e&&void 0==e.join){for(i in e)if(e.hasOwnProperty(i)){var o=-1===i.search(/[^a-zA-Z]+/)?i:"'"+i.replace("'","\\'")+"'";t.push(o+": "+MapSVG.convertToText(e[i]))}return"{"+t.join(",")+"}"}if("object"==typeof e&&void 0!=e.join){var i;for(i in e)t.push(MapSVG.convertToText(e[i]));return"["+t.join(",")+"]"}if("function"==typeof e)t.push(e.toString().replace("function anonymous","function"));else{var n=JSON.stringify(e);t.push(n)}return t.join(",")},MapSVG.Controller=function(e){if(this.container=e.container,this.mapsvg=e.mapsvg,this.template=e.template,this.scrollable=void 0===e.scrollable||e.scrollable,this.withToolbar=void 0===e.withToolbar||e.withToolbar,this.autoresize=MapSVG.parseBoolean(e.autoresize),this.templates={toolbar:this.getToolbarTemplate(),main:this.getMainTemplate()},this.data=e.data,this.width=e.width,this.color=e.color,this.events={},e.events)for(var t in e.events)"function"==typeof e.events[t]&&(this.events[t]=e.events[t]);this._init()},MapSVG.Controller.prototype.viewDidLoad=function(){this.updateScroll(),this.autoresize&&(this.adjustHeight(),this.resizeSensor.setScroll())},MapSVG.Controller.prototype.viewDidAppear=function(){},MapSVG.Controller.prototype.viewDidDisappear=function(){},MapSVG.Controller.prototype._viewDidLoad=function(){this.scrollable&&this.updateScroll()},MapSVG.Controller.prototype.updateScroll=function(){var e=this;this.contentWrap.nanoScroller({preventPageScrolling:!0,iOSNativeScrolling:!0}),setTimeout(function(){e.contentWrap.nanoScroller({preventPageScrolling:!0,iOSNativeScrolling:!0})},300)},MapSVG.Controller.prototype.adjustHeight=function(){this.container.height(this.container.find(".mapsvg-auto-height").outerHeight()+this.toolbarView.outerHeight())},MapSVG.Controller.prototype.init=function(){},MapSVG.Controller.prototype._init=function(){this.render(),this.init()},MapSVG.Controller.prototype.getToolbarTemplate=function(){return""},MapSVG.Controller.prototype.getMainTemplate=function(){return this.template},MapSVG.Controller.prototype.render=function(){var e=this;this.view=$("<div />").attr("id","mapsvg-controller-"+this.name).addClass("mapsvg-controller-view"),this.contentWrap=$("<div />").addClass("mapsvg-controller-view-wrap"),this.contentWrap2=$("<div />"),this.contentSizer=$("<div />").addClass("mapsvg-auto-height"),this.contentView=$("<div />").addClass("mapsvg-controller-view-content"),this.contentSizer.append(this.contentView),this.scrollable&&(this.contentWrap.addClass("nano"),this.contentWrap2.addClass("nano-content")),this.contentWrap.append(this.contentWrap2),this.contentWrap2.append(this.contentSizer),this.templates.toolbar&&(this.toolbarView=$("<div />").addClass("mapsvg-controller-view-toolbar"),this.view.append(this.toolbarView)),this.view.append(this.contentWrap),this.container.append(this.view),this.container.data("controller",this),this.width&&this.view.css({width:this.width}),this.color&&this.view.css({"background-color":this.color}),e.viewReadyToFill(),this.redraw(),setTimeout(function(){e._viewDidLoad(),e.viewDidLoad(),e.setEventHandlersCommon(),e.setEventHandlers()},1)},MapSVG.Controller.prototype.viewReadyToFill=function(){var e=this;e.autoresize&&(e.resizeSensor=new MapSVG.ResizeSensor(this.contentSizer[0],function(){e.adjustHeight(),e.updateScroll(),e.events.resize&&e.events.resize.call(e,e.mapsvg)}))},MapSVG.Controller.prototype.redraw=function(){this.contentView.html(this.templates.main),this.templates.toolbar&&this.toolbarView.html(this.templates.toolbar),this.updateTopShift(),this.noPadding&&this.contentView.css({padding:0}),this.scrollable&&this.updateScroll()},MapSVG.Controller.prototype.updateTopShift=function(){var e=this;e.contentWrap.css({top:e.toolbarView.outerHeight(!0)+"px"}),setTimeout(function(){e.contentWrap.css({top:e.toolbarView.outerHeight(!0)+"px"})},500)},MapSVG.Controller.prototype.setEventHandlersCommon=function(){},MapSVG.Controller.prototype.setEventHandlers=function(){},MapSVG.Controller.prototype.destroy=function(){this.view.empty().remove(),this.resizeSensor&&this.resizeSensor.destroy()},MapSVG.DirectoryController=function(e){this.database=e.database,this.noPadding=!0,this.position=e.position,this.search=e.search,this.filters=e.filters,MapSVG.Controller.call(this,e)},MapSVG.extend(MapSVG.DirectoryController,MapSVG.Controller),MapSVG.DirectoryController.prototype.getToolbarTemplate=function(){var e='<div class="mapsvg-directory-search-wrap">';return this.search&&(e+='<div class="mapsvg-directory-search-wrap-margin" >',e+='<input class="mapsvg-directory-search" placeholder="{{options.menu.searchPlaceholder}}" />',e+="</div>"),e+='<div class="mapsvg-directory-filter-wrap"></div>',(e+="</div>")+"</div>"},MapSVG.DirectoryController.prototype.viewDidLoad=function(){this.menuBtn=$('<div class="mapsvg-button-menu"><i class="mapsvg-icon-menu"></i> '+this.mapsvg.getData().options.mobileView.labelList+"</div>"),this.mapBtn=$('<div class="mapsvg-button-map"><i class="mapsvg-icon-map"></i> '+this.mapsvg.getData().options.mobileView.labelMap+"</div>"),this.mapBtn.addClass("active"),this.container.addClass("closed"),this.mobileButtons=$('<div class="mapsvg-mobile-buttons"></div>'),this.mobileButtons.append(this.menuBtn,this.mapBtn),!1!==this.mapsvg.getData().options.menu.on&&this.mobileButtons.insertAfter(this.mapsvg.getData().$wrap),this.events&&this.events.shown&&this.events.shown.call(this.view),this.mapsvg.getData().options.filters&&this.mapsvg.getData().options.filters.on&&this.setFilters(),this.mapsvg.getData().options.colors.directorySearch&&this.toolbarView.css({"background-color":this.mapsvg.getData().options.colors.directorySearch})},MapSVG.DirectoryController.prototype.setEventHandlers=function(){var _this=this,_data=_this.mapsvg.getData();$(window).on("resize",function(){_this.updateTopShift()}),this.view.on("keyup.menu.mapsvg",".mapsvg-directory-search",function(){var e={search:$(this).val()};_this.mapsvg.getData().options.menu.searchFallback&&(e.searchFallback=!0),_this.database.getAll(e)}),this.menuBtn.on("click",function(){_this.toggle(!0)}),this.mapBtn.on("click",function(){_this.toggle(!1)}),this.view.on("click.menu.mapsvg",".mapsvg-directory-item",function(e){e.preventDefault();var objID=$(this).data("object-id"),regions,marker,detailsViewObject,eventObject,skipPopover;if(_this.deselectItems(),_this.selectItems(objID),"regions"==_this.mapsvg.getData().options.menu.source?(regions=[_this.mapsvg.getRegion(objID)],eventObject=regions[0],detailsViewObject=regions[0]):(detailsViewObject=_this.database.getLoadedObject(objID),eventObject=detailsViewObject,detailsViewObject.regions&&(regions=detailsViewObject.regions.map(function(e){return _this.mapsvg.getRegion(e.id)}))),detailsViewObject.marker&&detailsViewObject.marker.id&&(marker=_this.mapsvg.getMarker(detailsViewObject.marker.id)),_this.mapsvg.getData().options.actions.directoryItem.click.showDetails&&(_this.mapsvg.loadDetailsView(detailsViewObject),_this.toggle(!1)),regions&&regions.length>0&&(_this.mapsvg.getData().options.actions.directoryItem.click.zoom&&_this.mapsvg.zoomTo(regions,_this.mapsvg.getData().options.actions.directoryItem.click.zoomToLevel),regions.length>1&&_this.mapsvg.setMultiSelect(!0),regions.forEach(function(t){var o=t.getCenter();if(e.clientX=o[0],e.clientY=o[1],_this.mapsvg.getData().options.actions.directoryItem.click.selectRegion&&_this.mapsvg.selectRegion(t,!0),_this.mapsvg.getData().options.actions.directoryItem.click.showRegionPopover&&(_this.toggle(!1),_this.mapsvg.showPopover(t)),_this.mapsvg.getData().options.actions.directoryItem.click.fireRegionOnClick){var i=_this.mapsvg.getData().events;i&&i["click.region"]&&i&&i["click.region"].call(t,e,_this.mapsvg)}}),regions.length>1&&_this.mapsvg.setMultiSelect(!1,!1)),marker&&(_this.mapsvg.getData().options.actions.directoryItem.click.showMarkerPopover&&(_this.mapsvg.showPopover(detailsViewObject),_this.toggle(!1)),_this.mapsvg.getData().options.actions.directoryItem.click.fireMarkerOnClick)){var events=_this.mapsvg.getData().events;events&&events["click.marker"]&&events&&events["click.marker"].call(marker,e,_this.mapsvg)}_this.events.click&&_this.events.click.call($(this),e,eventObject,_this.mapsvg);var actions=_this.mapsvg.getData().options.actions;if(actions.directoryItem.click.goToLink){var linkParts=actions.directoryItem.click.linkField.split("."),url;if(linkParts.length>1){var obj=linkParts.shift(),attr="."+linkParts.join(".");if("Region"==obj?regions[0]&&regions[0].data&&(url=eval("regions[0].data"+attr)):detailsViewObject&&(url=eval("detailsViewObject"+attr)),url)if(actions.directoryItem.click.newTab){var win=window.open(url,"_blank");win.focus()}else window.location.href=url}}}).on("mouseover.menu.mapsvg",".mapsvg-directory-item",function(e){var t,o=$(this).data("object-id");if("regions"==_this.mapsvg.getData().options.menu.source)t=[_this.mapsvg.getRegion(o)];else{var i=_this.database.getLoadedObject(o);i.regions&&(t=i.regions.map(function(e){return _this.mapsvg.getRegion(e.id)}))}t&&t.length&&(_this.mapsvg.highlightRegions(t),t.forEach(function(t){t&&!t.disabled&&_this.mapsvg.getData().options.mouseOver&&_this.mapsvg.getData().options.mouseOver.call(t,e,_this)})),_this.events.mouseover&&_this.events.mouseover.call($(this),e,eventObject,_this.mapsvg)}).on("mouseout.menu.mapsvg",".mapsvg-directory-item",function(e){var t,o=$(this).data("object-id");if("regions"==_this.mapsvg.getData().options.menu.source)t=[_this.mapsvg.getRegion(o)];else{var i=_this.database.getLoadedObject(o);i.regions&&(t=i.regions.map(function(e){return _this.mapsvg.getRegion(e.id)}))}t&&t.length&&(_this.mapsvg.unhighlightRegions(t),t.forEach(function(t){t&&!t.disabled&&_this.mapsvg.getData().options.mouseOut&&_this.mapsvg.getData().options.mouseOut.call(t,e,_this)})),_this.events.mouseout&&_this.events.mouseout.call($(this),e,eventObject,_this.mapsvg)}).on("click.menu.mapsvg",".mapsvg-filter-delete",function(e){var t=$(this).data("filter");_this.database.query.filters[t]=null,delete _this.database.query.filters[t],_this.mapsvg.deselectAllRegions(),_this.mapsvg.loadDataObjects()})},MapSVG.DirectoryController.prototype.highlightItems=function(e){var t=this;"object"!=typeof e&&(e=[e]),e.forEach(function(e){t.view.find("#mapsvg-directory-item-"+e).addClass("hover")})},MapSVG.DirectoryController.prototype.unhighlightItems=function(){this.view.find(".mapsvg-directory-item").removeClass("hover")},MapSVG.DirectoryController.prototype.selectItems=function(e){var t=this;"object"!=typeof e&&(e=[e]),e.forEach(function(e){t.view.find("#mapsvg-directory-item-"+e).addClass("selected")})},MapSVG.DirectoryController.prototype.deselectItems=function(){this.view.find(".mapsvg-directory-item").removeClass("selected")},MapSVG.DirectoryController.prototype.addFilter=function(e){this.database.getSchema()},MapSVG.DirectoryController.prototype.loadItemsToDirectory=function(){var e,t=this;e=this.database.getLoaded(),"regions"==this.database.table&&(e=e.filter(function(e){var o=t.mapsvg.getData().options.regionStatuses;return!o[e.status]||!o[e.status].disabled})),this.contentView.html(this.templates.main({items:e})),0==e.length&&this.contentView.html('<div class="mapsvg-no-results">'+this.mapsvg.getData().options.menu.noResultsText+"</div>"),this.setFilters(),this.scrollable&&this.updateScroll()},MapSVG.DirectoryController.prototype.getRegion=function(e){var t;if("regions"==this.mapsvg.getData().options.menu.source)t=this.mapsvg.getRegion(e);else{var o=this.database.getLoadedObject(e);o.region_id&&(t=this.mapsvg.getRegion(o.region_id))}return t},MapSVG.DirectoryController.prototype.setFilters=function(){var e=this,t=this.toolbarView.find(".mapsvg-directory-filter-wrap");if(this.toolbarView.find(".mapsvg-filter-tag").remove(),!e.formBuilder&&e.mapsvg.getData().options.filters&&e.mapsvg.getData().options.filters.on&&(e.formBuilder=new MapSVG.FormBuilder({container:e.view.find(".mapsvg-directory-filter-wrap"),filtersMode:!0,schema:e.mapsvg.filtersSchema.getSchema(),editMode:!1,mapsvg:e.mapsvg,admin:e.admin,events:{}}),e.formBuilder.view.on("change",'select,input[type="radio"]',function(){var t={};t[$(this).data("parameter-name")]=$(this).val(),e.database.query.setFilters(t),e.database.getAll(t)}),setTimeout(function(){e.updateTopShift(),this.scrollable&&e.updateScroll()},200)),e.mapsvg.getData().options.filters&&e.mapsvg.getData().options.filters.on||e.database.query.filters&&Object.keys(e.database.query.filters).length>0){for(var o in e.database.query.filters){var i=e.database.query.filters[o],n=o,s=e.mapsvg.filtersSchema.getField(n);e.mapsvg.getData().options.filters.on&&s?t.find('[data-parameter-name="'+n+'"]').val(i):("regions"==o&&(n="region",i=e.mapsvg.getRegion(i).title||i),t.append('<div class="mapsvg-filter-tag">'+n+": "+i+' <span class="mapsvg-filter-delete" data-filter="'+o+'">\xd7</span></div>'))}this.view.addClass("mapsvg-with-filter")}else this.view.removeClass("mapsvg-with-filter");this.updateTopShift()},MapSVG.DirectoryController.prototype.toggle=function(e){e?(this.container.removeClass("closed"),this.menuBtn.addClass("active"),this.mapBtn.removeClass("active")):(this.container.toggleClass("closed"),this.container.hasClass("closed")?MapSVG.isPhone&&(this.mapsvg.getData().$wrap.css("height","auto"),this.updateScroll()):MapSVG.isPhone&&this.container.height()<400&&(this.mapsvg.getData().$wrap.css("height","400px"),this.updateScroll()),this.menuBtn.removeClass("active"),this.mapBtn.addClass("active")),this.updateTopShift()},MapSVG.DirectoryController.prototype.addPagination=function(e){this.contentView.append('<div class="mapsvg-pagination-container"></div>'),this.contentView.find(".mapsvg-pagination-container").html(e)},MapSVG.DetailsController=function(e){MapSVG.Controller.call(this,e)},MapSVG.extend(MapSVG.DetailsController,MapSVG.Controller),MapSVG.DetailsController.prototype.getToolbarTemplate=function(){return this.withToolbar?'<div class="mapsvg-popover-close mapsvg-details-close"></div>':""},MapSVG.DetailsController.prototype.init=function(){},MapSVG.DetailsController.prototype.viewDidLoad=function(){this.events&&this.events.shown&&this.events.shown.call(this,this.mapsvg)},MapSVG.DetailsController.prototype.setEventHandlers=function(){var e=this;this.view.on("click touchend",".mapsvg-popover-close",function(){e.destroy(),e.events&&e.events.closed&&e.events.closed.call(e,e.mapsvg)})},MapSVG.PopoverController=function(e){e.autoresize=!0,MapSVG.Controller.call(this,e),this.point=e.point,this.yShift=e.yShift,this.mapObject=e.mapObject,this.id=this.mapObject.id+"_"+Math.random(),this.container.data("popover-id",this.id)},MapSVG.extend(MapSVG.PopoverController,MapSVG.Controller),MapSVG.PopoverController.prototype.setPoint=function(e){this.point=e},MapSVG.PopoverController.prototype.getToolbarTemplate=function(){return this.withToolbar?'<div class="mapsvg-popover-close"></div>':""},MapSVG.PopoverController.prototype.init=function(){},MapSVG.PopoverController.prototype.viewDidLoad=function(){MapSVG.Controller.prototype.viewDidLoad.call(this),this.adjustPosition(),this.container.toggleClass("mapsvg-popover-animate",!0),this.container.toggleClass("mapsvg-popover-visible",!0),this.adjustHeight(),this.updateScroll(),this.resizeSensor.setScroll(),this.events&&this.events.shown&&this.events.shown.call(this,this.mapsvg)},MapSVG.PopoverController.prototype.adjustHeight=function(){this.container.height(this.container.find(".mapsvg-auto-height").outerHeight()+this.toolbarView.outerHeight())},MapSVG.PopoverController.prototype.adjustPosition=function(){var e=this.mapsvg.convertSVGToPixel([this.point.x,this.point.y]);e[1]-=this.yShift,this.container.css({transform:"translateX(-50%) translate("+e[0]+"px,"+e[1]+"px)"})},MapSVG.PopoverController.prototype.setEventHandlers=function(){var e=this;$("body").off(".popover.mapsvg"),this.view.on("click touchend",".mapsvg-popover-close",function(){e.close()}),$("body").one("mouseup.popover.mapsvg touchend.popover.mapsvg ",function(t){setTimeout(function(){e.mapsvg.getData().isScrolling||$(t.target).closest(".mapsvg-popover").length||$(t.target).hasClass("mapsvg-btn-zoom")||e.close()},50)})},MapSVG.PopoverController.prototype.close=function(){this.container.data("popover-id")==this.id&&this.container.is(":visible")&&(this.destroy(),this.mapObject instanceof MapSVG.Region&&this.mapsvg.deselectRegion(this.mapObject),this.events&&this.events.closed&&this.events.closed.call(this))},MapSVG.PopoverController.prototype.destroy=function(){this.container.toggleClass("mapsvg-popover-animate",!1),this.container.toggleClass("mapsvg-popover-visible",!1),MapSVG.Controller.prototype.destroy.call(this)},MapSVG.PopoverController.prototype.show=function(){this.container.toggleClass("mapsvg-popover-visible",!0)}}(jQuery,window,MapSVG,Math),function($){var mapSVG={};function MapObject(e,t){this.id="",this.objects=[],this.data={},this.node=e,this.mapsvg=t,this.nodeType=e[0].tagName}function Region(e,t,o,i){var n;MapObject.call(this,e),this.globalOptions=t,this.mapsvg=i,this.id=this.node.attr("id"),this.id||(this.setId(this.nodeType+"_"+o.id++),this.autoID=!0),this.id_no_spaces=this.id.replace(" ","_"),this.title=this.node.attr("title"),this.node[0].setAttribute("class",(this.node.attr("class")||"")+" mapsvg-region"),this.style={fill:this.getComputedStyle("fill")},this.style.stroke=this.getComputedStyle("stroke")||"",n=this.node.data("stroke-width")?this.node.data("stroke-width"):"1"==(n=(n=this.getComputedStyle("stroke-width"))?n.replace("px",""):"1")?1.2:parseFloat(n),this.style["stroke-width"]=n,this.node.data("stroke-width",n);var s=t.regions&&t.regions[this.id]?t.regions[this.id]:null;this.disabled=this.getDisabledState(),this.disabled&&this.attr("class",this.attr("class")+" mapsvg-disabled"),this.default_attr={},this.selected_attr={},this.hover_attr={},this.mapsvg_type="region";var r=!1;s&&s.selected&&(r=!0,delete s.selected),s&&this.update(s),this.setFill(),r&&this.setSelected(!0),this.saveState()}function Marker(e,t,o){if(!e.id||!e.src)return!1;var i=$('<img id="'+e.id+'" src="'+e.src+'"/>').css({width:e.width+"px",height:e.height+"px"}).addClass("mapsvg-marker");MapObject.call(this,i),this.mapsvg=o,this.src=e.src,this.setId(e.id),this.mapsvg_type="marker",this.x=parseFloat(e.x),this.y=parseFloat(e.y),this.xy=[this.x,this.y],this.width=parseFloat(e.width),this.height=parseFloat(e.height),this.tooltip=e.tooltip,this.popover=e.popover,this.href=e.href,this.target=e.target,this.default={x:this.x,y:this.y,width:this.width,height:this.height},this.geoCoords=e.geoCoords,this.attached=void 0==e.attached||MapSVG.parseBoolean(e.attached),this.isLink=void 0!=e.isLink&&MapSVG.parseBoolean(e.isLink),this.urlField=e.urlField,this.dataId=void 0==e.dataId?null:parseInt(e.dataId),this.adjustPosition()}MapObject.prototype.isMarker=function(){return"marker"==this.mapsvg_type},MapObject.prototype.isRegion=function(){return"region"==this.mapsvg_type},MapObject.prototype.setData=function(e){for(var t in e)this.data[t]=e[t]},MapObject.prototype.getBBox=function(){var e=this instanceof Marker?{x:this.x,y:this.y,width:this.default.width,height:this.default.height}:this.node[0].getBBox();if(e=$.extend(!0,{},e),!(this instanceof Marker)){var t=this.node[0].getTransformToElement(this.mapsvg.getData().$svg[0]),o=e.x+e.width,i=e.y+e.height,n=this.mapsvg.getData().$svg[0].createSVGPoint();n.x=e.x,n.y=e.y,n=n.matrixTransform(t),e.x=n.x,e.y=n.y,n.x=o,n.y=i,n=n.matrixTransform(t),e.width=n.x-e.x,e.height=n.y-e.y}return[e.x,e.y,e.width,e.height]},MapObject.prototype.getGeoBounds=function(){var e=this.getBBox();return{sw:this.mapsvg.convertSVGToGeo(e.x,e.y+e.height),ne:this.mapsvg.convertSVGToGeo(e.x+e.width,e.y)}},MapObject.prototype.getComputedStyle=function(e,t){var o,i;if(o=(t=t||this.node[0]).getAttribute(e))return o;if(i=t.getAttribute("style")){var n=i.split(";").filter(function(t){if((t=t.trim()).split(":")[0]==e)return!0});if(n.length)return n[0].split(":").pop().trim()}var s=$(t).parent(),r=s.length?s[0].tagName:null;return r&&"svg"!=r?this.getComputedStyle(e,s[0]):void 0},MapObject.prototype.getStyle=function(e){var t,o;if(t=this.attr(e))return t;if(o=this.attr("style")){var i=o.split(";").filter(function(t){if(0===(t=t.trim()).indexOf(e))return t});return i.length?i[0].split(":").pop().trim():void 0}return""},MapObject.prototype.getCenter=function(){var e=this.node[0].getBoundingClientRect().left,t=this.node[0].getBoundingClientRect().top;return[e+this.node[0].getBoundingClientRect().width/2,t+this.node[0].getBoundingClientRect().height/2]},MapObject.prototype.getCenterSVG=function(){var e=this.getBBox();return{x:e[0]+e[2]/2,y:e[1]+e[3]/2}},MapObject.prototype.getCenterLatLng=function(e){e=e||0;var t=this.node[0].getBBox(),o=this.mapsvg.convertSVGToGeo(t.x+t.width/2,t.y+t.height/2-e);return{lat:o[0],lng:o[1]}},MapObject.prototype.setTooltip=function(e){this.tooltip=e||void 0},MapObject.prototype.setPopover=function(e){this.popover=e||void 0},MapObject.prototype.setHref=function(e){this.href=e||void 0},MapObject.prototype.setTarget=function(e){this.target=e||void 0},MapObject.prototype.setData=function(data){if(data){if("string"==typeof data)if("["==data.substr(0,1)||"{"==data.substr(0,1))try{var tmp;eval("tmp = "+data),this.data=tmp}catch(e){var error="MapSVG: Error in Data object for "+this.mapsvg_type+" '"+this.id+"'. Data object was set to empty object {}.";return this.data={},{_error:error}}else this.data=data;else this.data=data;return this.data}this.data=void 0},MapObject.prototype.attr=function(e,t){var o=this.node[0];if("object"==typeof e)$.each(e,function(e,t){"string"!=typeof t&&"number"!=typeof t||o.setAttribute(e,t)});else if("string"!=typeof e||"string"!=typeof t&&"number"!=typeof t){if(void 0==t)return o.getAttribute(e)}else o.setAttribute(e,t)},MapObject.prototype.setId=function(e){if(!e)return!1;this.id=e,this.node[0].setAttribute("id",e),this.isMarker()&&this.mapsvg.updateMarkersDict()},MapSVG.extend(Region,MapObject),Region.prototype.saveState=function(){this.initialState=JSON.stringify(this.getOptions())},Region.prototype.changed=function(){return JSON.stringify(this.getOptions())!=this.initialState},Region.prototype.edit=function(e){this.nodeOriginal=this.node.clone()},Region.prototype.editCommit=function(){this.nodeOriginal=null},Region.prototype.editCancel=function(){this.nodeOriginal.appendTo(_this.mapsvg.getData().$svg),this.node=this.nodeOriginal,this.nodeOriginal=null},Region.prototype.getOptions=function(e){var t={id:this.id,id_no_spaces:this.id_no_spaces,title:this.title,disabled:this.disabled===this.getDisabledState(!0)?void 0:this.disabled,fill:this.globalOptions.regions[this.id]&&this.globalOptions.regions[this.id].fill,tooltip:this.tooltip,popover:this.popover,href:this.href,target:this.target,data:this.data,gaugeValue:this.gaugeValue};if(e&&(t.disabled=this.disabled,t.dataCounter=this.data&&this.data.length||0),$.each(t,function(e,o){void 0==o&&delete t[e]}),this.customAttrs){var o=this;this.customAttrs.forEach(function(e){t[e]=o[e]})}return t},Region.prototype.forTemplate=function(){var e={id:this.id,title:this.title,objects:this.objects,data:this.data};for(var t in this.data)"title"!=t&&"id"!=t&&(e[t]=this.data[t]);return e},Region.prototype.update=function(e){for(var t in e){var o="set"+MapSVG.ucfirst(t);o in this?this[o](e[t]):(this[t]=e[t],this.customAttrs=this.customAttrs||[],this.customAttrs.push(t))}},Region.prototype.setId=function(e){this.id=e,this.node.prop("id",e)},Region.prototype.setTitle=function(e){this.title=e},Region.prototype.setStyle=function(e){$.extend(!0,this.style,e),this.setFill()},Region.prototype.getChoroplethColor=function(){var e=this.globalOptions.gauge,t=(parseFloat(this.data[this.globalOptions.regionChoroplethField])-e.min)/e.maxAdjusted;return{r:Math.round(e.colors.diffRGB.r*t+e.colors.lowRGB.r),g:Math.round(e.colors.diffRGB.g*t+e.colors.lowRGB.g),b:Math.round(e.colors.diffRGB.b*t+e.colors.lowRGB.b),a:Math.round(e.colors.diffRGB.a*t+e.colors.lowRGB.a)}},Region.prototype.setFill=function(e){if(this.globalOptions.colorsIgnore)this.node.css(this.style);else{if(e){var t={};t[this.id]={fill:e},$.extend(!0,this.globalOptions,{regions:t})}else!e&&void 0!==e&&this.globalOptions.regions&&this.globalOptions.regions[this.id]&&this.globalOptions.regions[this.id].fill&&delete this.globalOptions.regions[this.id].fill;if(this.globalOptions.gauge.on&&this.gaugeValue){var o=this.globalOptions.gauge,i=(this.gaugeValue-o.min)/o.maxAdjusted,n={r:Math.round(o.colors.diffRGB.r*i+o.colors.lowRGB.r),g:Math.round(o.colors.diffRGB.g*i+o.colors.lowRGB.g),b:Math.round(o.colors.diffRGB.b*i+o.colors.lowRGB.b),a:Math.round(o.colors.diffRGB.a*i+o.colors.lowRGB.a)};this.default_attr.fill="rgba("+n.r+","+n.g+","+n.b+","+n.a+")"}else this.default_attr.fill=this.globalOptions.regions[this.id]&&this.globalOptions.regions[this.id].fill?this.globalOptions.regions[this.id].fill:this.disabled&&this.globalOptions.colors.disabled?this.globalOptions.colors.disabled:this.globalOptions.colors.base?this.globalOptions.colors.base:"none"!=this.style.fill?this.style.fill?this.style.fill:this.globalOptions.colors.baseDefault:"none";this.selected_attr.fill=MapSVG.isNumber(this.globalOptions.colors.selected)?MapSVG.tinycolor(this.default_attr.fill).lighten(parseFloat(this.globalOptions.colors.selected)).toRgbString():this.globalOptions.colors.selected,this.hover_attr.fill=MapSVG.isNumber(this.globalOptions.colors.hover)?MapSVG.tinycolor(this.default_attr.fill).lighten(parseFloat(this.globalOptions.colors.hover)).toRgbString():this.globalOptions.colors.hover,this.node.css("fill",this.default_attr.fill),this.fill=this.default_attr.fill,this.node.css("stroke","none"!=this.style.stroke&&void 0!=this.globalOptions.colors.stroke?this.globalOptions.colors.stroke:void 0==this.style.stroke?"":this.style.stroke),this.selected&&this.select()}},Region.prototype.setDisabled=function(e,t){e=void 0!==e?MapSVG.parseBoolean(e):this.getDisabledState();var o=this.disabled;this.disabled=e,this.attr("class",e?this.attr("class")+" mapsvg-disabled":this.attr("class").replace(" mapsvg-disabled","")),this.disabled!=o&&this.mapsvg.deselectRegion(this),!t&&this.setFill()},Region.prototype.setStatus=function(e){var t;(t=this.globalOptions.regionStatuses&&this.globalOptions.regionStatuses[e])?(this.status=e,this.data.status=e,this.setDisabled(t.disabled,!0)):(this.status=void 0,this.data.status=void 0,this.setDisabled(!1,!0)),this.setFill()},Region.prototype.setSelected=function(e){this.mapsvg.selectRegion(this)},Region.prototype.setGaugeValue=function(e){this.gaugeValue=$.isNumeric(e)?parseFloat(e):void 0},Region.prototype.getDisabledState=function(e){var t=this.globalOptions.regions[this.id];return!e&&t&&void 0!==t.disabled?t.disabled:!(!this.globalOptions.disableAll&&"none"!=this.style.fill&&"labels"!=this.id&&"Labels"!=this.id)},Region.prototype.highlight=function(){this.node.css({fill:this.hover_attr.fill})},Region.prototype.unhighlight=function(){this.node.css({fill:this.default_attr.fill})},Region.prototype.select=function(){this.node.css({fill:this.selected_attr.fill}),this.selected=!0},Region.prototype.deselect=function(){this.node.css({fill:this.default_attr.fill}),this.selected=!1},MapSVG.extend(Marker,MapObject),Marker.prototype.getOptions=function(){var e={id:this.id,attached:this.attached,isLink:this.isLink,urlField:this.urlField,dataId:this.dataId,tooltip:this.tooltip,popover:this.popover,href:this.href,target:this.target,data:this.data,src:this.src,width:this.default.width,height:this.default.height,x:this.x,y:this.y,geoCoords:this.geoCoords};return $.each(e,function(t,o){void 0==o&&delete e[t]}),e},Marker.prototype.update=function(e,t){for(var o in e){var i="set"+MapSVG.ucfirst(o);i in this&&this[i](e[o],t)}},Marker.prototype.setSrc=function(e,t){if(!e)return!1;e=MapSVG.safeURL(e),t=t||this.mapScale;var o=new Image,i=this;this.src=e,o.onload=function(){i.default.width=this.width,i.default.height=this.height,i.attr({x:i.x,y:i.y,width:this.width,height:this.height}),i.width=this.width,i.height=this.height,i.node[0].setAttribute("src",e),i.adjustPosition(t)},o.src=e},Marker.prototype.setXy=function(e){this.x=e[0],this.y=e[1],this.xy=[this.x,this.y],this.mapsvg.getData().mapIsGeo&&(this.geoCoords=this.mapsvg.convertSVGToGeo(e[0],e[1])),this.adjustPosition(),this.onChange&&this.onChange.call(this)},Marker.prototype.moveToClick=function(e){var t=this.mapsvg.getData(),o={};e[0]=e[0]+t.viewBox[0],e[1]=e[1]+t.viewBox[1],t.mapIsGeo&&(this.geoCoords=this.mapsvg.convertSVGToGeo(e[0],e[1])),o.xy=e,this.update(o)},Marker.prototype.adjustPosition=function(e){var t=this.mapsvg.convertSVGToPixel([this.x,this.y]);this.node.css({transform:"translate(-50%,-100%) translate("+t[0]+"px,"+t[1]+"px)"})},Marker.prototype.setGeoCoords=function(e){if("string"==typeof e&&(e=e.trim().split(","),e=[parseFloat(e[0]),parseFloat(e[1])]),"object"==typeof e&&2==e.length&&$.isNumeric(e[0])&&$.isNumeric(e[1])){var t=this.mapsvg.convertGeoToSVG(e);this.setXy(t)}},Marker.getDefaultCoords=function(e,t,o,i,n){return e=parseFloat(e),t=parseFloat(t),o=parseFloat(o),i=parseFloat(i),[e,t]},Marker.prototype.drag=function(e,t,o,i){var n=this;this.ox=this.x,this.oy=this.y,$("body").on("mousemove.drag.mapsvg",function(o){o.preventDefault(),n.mapsvg.getData().$map.addClass("no-transitions");var i=MapSVG.mouseCoords(o);n.setXy([n.ox+(i.x-e.x)/t,n.oy+(i.y-e.y)/t])}),$("body").on("mouseup.drag.mapsvg",function(s){s.preventDefault(),n.undrag();var r=MapSVG.mouseCoords(s);n.setXy([n.ox+(r.x-e.x)/t,n.oy+(r.y-e.y)/t]),o.call(n),n.ox==n.x&&n.oy==n.y&&i.call(n)})},Marker.prototype.undrag=function(){$("body").off(".drag.mapsvg"),this.mapsvg.getData().$map.removeClass("no-transitions")},Marker.prototype.delete=function(){this.href&&this.node.parent("a").empty().remove(),this.mapsvg.getData().$map.find("#"+this.id).empty().remove()},Marker.prototype.setObject=function(e){this.object=e,this.databaseObject=e,this.objects=[e]},MapSVG.MapObject=MapObject,MapSVG.Region=Region,MapSVG.Marker=Marker;var scripts=document.getElementsByTagName("script"),myScript=scripts[scripts.length-1].src.split("/");myScript.pop();var pluginJSURL=myScript.join("/")+"/";myScript.pop();var pluginRootURL=myScript.join("/")+"/",instances={},globalID=0,defaults={markerLastID:0,googleMaps:{on:!1},events:{},regionLastID:0,dataLastID:1,disableAll:!1,width:null,height:null,lockAspectRatio:!0,padding:{top:0,left:0,right:0,bottom:0},maxWidth:null,maxHeight:null,minWidth:null,minHeight:null,loadingText:"Loading map...",colorsIgnore:!1,colors:{baseDefault:"#000000",background:"#eeeeee",selected:40,hover:20,directory:"#fafafa",status:{}},regions:{},markers:[],viewBox:[],cursor:"default",onClick:null,mouseOver:null,mouseOut:null,menuOnClick:null,beforeLoad:null,afterLoad:null,zoom:{on:!1,limit:[0,10],delta:2,buttons:{on:!0,location:"right"},mousewheel:!0},scroll:{on:!1,limit:!1,background:!1,spacebar:!1},responsive:!0,tooltips:{mode:"off",on:!1,priority:"local",position:"bottom-right"},popovers:{mode:"off",on:!1,priority:"local",position:"top",centerOn:!0,width:300,maxWidth:50,maxHeight:50,resetViewboxOnClose:!0,mobileFullscreen:!0},multiSelect:!1,regionStatuses:{1:{label:"Enabled",value:"1",color:"",disabled:!1},0:{label:"Disabled",value:"0",color:"",disabled:!0}},events:{afterLoad:null,beforeLoad:null,databaseLoaded:null,"click.region":null,"mouseover.region":null,"mouseout.region":null,"click.marker":null,"mouseover.marker":null,"mouseout.marker":null,"click.directoryItem":null,"mouseover.directoryItem":null,"mouseout.directoryItem":null,"shown.popover":null,"shown.detailsView":null,"closed.popover":null,"closed.detailsView":null},templates:{popoverRegion:"",popoverMarker:"",tooltipRegion:"",tooltipMarker:"",directoryItem:"",detailsView:"",detailsViewRegion:""},gauge:{on:!1,labels:{low:"low",high:"high"},colors:{lowRGB:null,highRGB:null,low:"#550000",high:"#ee0000"},min:0,max:0},filters:{on:!1},menu:{on:!1,search:!1,customContainer:!1,containerId:"",searchPlaceholder:"Search...",searchFallback:!1,source:"database",width:"200px",position:"left",sortBy:"id",sortDirection:"desc",clickActions:{region:"default",marker:"default",directoryItem:{triggerClick:!0,showPopover:!1,showDetails:!0}},detailsViewLocation:"overDirectory",noResultsText:"No results found"},database:{pagination:{on:!0,perpage:30,next:"Next",prev:"Prev."},table:""},actions:{region:{click:{showDetails:!1,showDetailsFor:"region",filterDirectory:!1,loadObjects:!1,showPopover:!1,showPopoverFor:"region",goToLink:!1}},marker:{click:{showDetails:!1,showPopover:!1,goToLink:!1}},directoryItem:{click:{showDetails:!0,showPopover:!1,goToLink:!1,selectRegion:!0,fireRegionOnClick:!0}}},detailsView:{location:"top",containerId:"",width:"100%"},mobileView:{labelMap:"Map",labelList:"List"},googleMaps:{on:!1,apiKey:"",loaded:!1,center:"auto",type:"roadmap",minZoom:1},groups:[],floors:[],layersControl:{on:!1,position:"top-left",label:"Show on map",expanded:!0,maxHeight:"100%"},floorsControl:{on:!1,position:"top-left",label:"Floors",expanded:!1,maxHeight:"100%"},svgFileVersion:1,menu:{on:!1,containerId:"mapsvg-menu-regions",template:function(e){return'<li><a href="#'+e.id+'">'+(e.title||e.id)+"</a></li>"}},menuMarkers:{on:!1,containerId:"mapsvg-menu-markers",template:function(e){return'<li><a href="#'+e.id+'">'+e.id+"</a></li>"}}},markerOptions={src:pluginRootURL+"markers/pin1_red.png"};mapSVG=function(e,t){var o;this.methods={prototypes:{MapObject:MapObject,Region:Region,Marker:Marker},setMarkersClickAsLink:function(){this.database.loadSchema().done(function(e){e&&e.forEach(function(e){"marker"==e.type&&(o.markerIsLink=MapSVG.parseBoolean(e.isLink),o.markerUrlField=e.urlField)})})},setGroups:function(){o.groups=o.options.groups,o.groups.forEach(function(e){e.objects.forEach(function(t){o.$svg.find("#"+t.value).toggle(e.visible)})})},setLayersControl:function(e){e&&$.extend(!0,o.options.layersControl,e),o.options.layersControl.on?(o.$layersControl||(o.$layersControl=$('<div class="mapsvg-layers-control"></div>'),o.$layersControlLabel=$('<div class="mapsvg-layers-label"></div>').appendTo(o.$layersControl),o.$layersControlListWrap=$('<div class="mapsvg-layers-list-wrap"></div>').appendTo(o.$layersControl),o.$layersControlListNano=$('<div class="nano"></div>').appendTo(o.$layersControlListWrap),o.$layersControlList=$('<div class="mapsvg-layers-list nano-content"></div>').appendTo(o.$layersControlListNano),o.$layersControl.appendTo(o.$map)),o.$layersControlLabel.html(o.options.layersControl.label),o.$layersControlList.empty(),o.$layersControl.removeClass("mapsvg-top-left mapsvg-top-right mapsvg-bottom-left mapsvg-bottom-right"),o.$layersControl.addClass("mapsvg-"+o.options.layersControl.position),o.$layersControl.css({"max-height":o.options.layersControl.maxHeight}),o.options.groups.forEach(function(e){$('<div class="mapsvg-layers-item" data-group-id="'+e.id+'"><input type="checkbox" class="ios8-switch ios8-switch-sm" '+(e.visible?"checked":"")+" /><label>"+e.title+"</label> </div>").appendTo(o.$layersControlList)}),o.$layersControlListNano.nanoScroller({preventPageScrolling:!0}),o.$layersControl.off(),o.$layersControl.on("click",".mapsvg-layers-item",function(){var e=$(this).data("group-id"),t=$(this).find("input");t.prop("checked",!t.prop("checked")),o.options.groups.forEach(function(t){t.id==e&&(t.visible=!t.visible)}),i.setGroups()}),o.$layersControlLabel.on("click",function(){o.$layersControl.toggleClass("closed")}),o.$layersControl.toggleClass("closed",!o.options.layersControl.expanded)):o.$layersControl&&o.$layersControl.hide()},setFloorsControl:function(e){e&&$.extend(!0,o.options.floorsControl,e),o.options.floorsControl.on?(o.$floorsControl||(o.$floorsControl=$('<div class="mapsvg-floors-control"></div>'),o.$floorsControlLabel=$('<div class="mapsvg-floors-label"></div>').appendTo(o.$floorsControl),o.$floorsControlListWrap=$('<div class="mapsvg-floors-list-wrap"></div>').appendTo(o.$floorsControl),o.$floorsControlListNano=$('<div class="nano"></div>').appendTo(o.$floorsControlListWrap),o.$floorsControlList=$('<div class="mapsvg-floors-list nano-content"></div>').appendTo(o.$floorsControlListNano),o.$floorsControl.appendTo(o.$map)),o.$floorsControlLabel.html(o.options.floorsControl.label),o.$floorsControlList.empty(),o.$floorsControl.removeClass("mapsvg-top-left mapsvg-top-right mapsvg-bottom-left mapsvg-bottom-right"),o.$floorsControl.addClass("mapsvg-"+o.options.floorsControl.position),o.$floorsControl.css({"max-height":o.options.floorsControl.maxHeight}),o.options.floors.forEach(function(e){$('<div class="mapsvg-floors-item" data-floor-id="'+e.object_id+'"><label>'+e.title+"</label> </div>").appendTo(o.$floorsControlList)}),o.$floorsControlListNano.nanoScroller({preventPageScrolling:!0}),o.$floorsControl.off(),o.$floorsControl.on("click",".mapsvg-floors-item",function(){var e=$(this).data("floor-id");i.setFloor(e)}),o.$floorsControlLabel.on("click",function(){o.$floorsControl.toggleClass("closed")}),o.$floorsControl.toggleClass("closed",!o.options.floorsControl.expanded)):o.$floorsControl&&o.$floorsControl.hide()},setFloor:function(e){o.$floorsControl.find(".mapsvg-floors-item").toggleClass("active",!1),o.$floorsControl.find('[data-floor-id="'+e+'"]').toggleClass("active",!0),o.options.floors.forEach(function(e){o.$svg.find("#"+e.object_id).hide()});var t=o.$svg.find("#"+e);t.show();var n=(t=new MapObject(t,i)).getBBox();o._viewBox=n,i.setViewBox(o._viewBox),o.zoomLevels=null,o.zoomLevel=1,i.setZoom(),t=null},getGroupSelectOptions:function(){var e,t=[],i=[],n=[];return o.$svg.find("g").each(function(t){(e=$(this)[0].getAttribute("id"))&&i.push({label:e,value:e})}),t.push({title:"SVG Layers / Groups",options:i}),o.$svg.find("path,ellipse,circle,polyline,polygon,rectangle,img,text").each(function(t){(e=$(this)[0].getAttribute("id"))&&n.push({label:e,value:e})}),t.push({title:"Other SVG objects",options:n}),t},loadDataObjects:function(e){return this.database.getAll(e)},loadDirectory:function(){if(!o.editMode&&(o.options.menu.on&&o.controllers.directory.loadItemsToDirectory(),o.options.database.pagination.on)){var e=this.getPagination();o.options.menu.on?o.controllers.directory.addPagination(e):o.$map.append(e)}},getPagination:function(e){return o.pager&&o.pager.empty().remove(),o.pager=$('<nav class="mapsvg-pagination"><ul class="pager">\x3c!--<li class="mapsvg-first"><a href="#">First</a></li>--\x3e<li class="mapsvg-prev"><a href="#">&larr; Prev. '+o.options.database.pagination.perpage+'</a></li><li class="mapsvg-next"><a href="#">Next '+o.options.database.pagination.perpage+' &rarr;</a></li>\x3c!--<li class="mapsvg-last"><a href="#">Last</a></li>--\x3e</ul></nav>'),i.database.onFirstPage()&&i.database.onLastPage()?o.pager.hide():(o.pager.find(".mapsvg-prev").removeClass("disabled"),o.pager.find(".mapsvg-first").removeClass("disabled"),o.pager.find(".mapsvg-last").removeClass("disabled"),o.pager.find(".mapsvg-next").removeClass("disabled"),i.database.onLastPage()&&o.pager.find(".mapsvg-next").addClass("disabled")&&o.pager.find(".mapsvg-last").addClass("disabled"),i.database.onFirstPage()&&o.pager.find(".mapsvg-prev").addClass("disabled")&&o.pager.find(".mapsvg-first").addClass("disabled")),o.pager.on("click",".mapsvg-next:not(.disabled)",function(t){t.preventDefault(),i.database.onLastPage()||i.database.getAll({page:i.database.page+1}).done(function(){e&&e()})}).on("click",".mapsvg-prev:not(.disabled)",function(t){t.preventDefault(),i.database.onFirstPage()||i.database.getAll({page:i.database.page-1}).done(function(){e&&e()})}).on("click",".mapsvg-first:not(.disabled)",function(t){t.preventDefault(),i.database.onFirstPage()||i.database.getAll({page:1}).done(function(){e&&e()})}).on("click",".mapsvg-last:not(.disabled)",function(t){t.preventDefault(),i.database.onLastPage()||i.database.getAll({lastpage:!0}).done(function(){e&&e()})}),o.pager},deleteMarkers:function(){for(;o.markers.length;)i.markerDelete(o.markers[0])},addDataObjectsAsMarkers:function(){var e=this.database.getLoaded(),t=this;t.deleteMarkers(),e&&e.forEach(function(e){if(e.marker&&!(e instanceof Marker)){e.marker.id="marker_"+e.id,e.marker.attached=!0;var o=t.markerAdd(e.marker);o&&o.setObject(e)}})},getCssUrl:function(){return MapSVG.urls.root+"css/mapsvg.css"},isGeo:function(){return o.mapIsGeo},functionFromString:function(e){var t,o=!1,i=e.trim();if(-1==i.indexOf("{")||0!==i.indexOf("function")||-1==i.indexOf("("))return{error:"MapSVG user function error: no function body."};var n=i.substring(i.indexOf("{")+1,i.lastIndexOf("}")),s=i.substring(i.indexOf("(")+1,i.indexOf(")"));try{t=new Function(s,n)}catch(e){o=e}return o||t},getOptions:function(e,t,i){i=i||{};var n=$.extend(!0,{},o.options);return $.extend(!0,n,i),n.viewBox=o._viewBox,delete n.markers,e?(n.regions=[],o.regions.forEach(function(t){n.regions.push(t.getOptions(e))}),n.markers=o.options.markers):(o.regions.forEach(function(e){e.changed()&&(n.regions[e.id]=e.getOptions())}),o.markers.length>0&&(n.markers=[]),o.markers.forEach(function(e){n.markers.push(e.getOptions())})),t&&$.each(n,function(e,t){JSON.stringify(t)==JSON.stringify(defaults[e])&&delete n[e]}),n},on:function(e,t){this.lastChangeTime=Date.now(),o.events[e]||(o.events[e]=[]),o.events[e].push(t)},off:function(e,t){o.events[e]=[]},trigger:function(e){o.eventHandlers&&o.eventHandlers[e]&&o.eventHandlers[e]()},setEvents:function(e){for(var t in o.events=o.events||{},e)if("string"==typeof e[t]){var i=""!=e[t]?this.functionFromString(e[t]):null;o.events[t]=!i||i.error||i instanceof TypeError||i instanceof SyntaxError?null:i}else"function"==typeof e[t]&&(o.events[t]=e[t]);$.extend(!0,o.options.events,e)},setActions:function(e){$.extend(!0,o.options.actions,e)},setDetailsView:function(e){$.extend(!0,o.options.detailsView,e)},setMobileView:function(e){$.extend(!0,o.options.mobileView,e)},deleteDataField:function(e){o.options.data.forEach(function(t){delete t[e]})},addZeroDataField:function(e){o.options.data.forEach(function(t){t[e]=""})},attachDataToRegions:function(){o.regions.forEach(function(e){e.objects=[]}),i.database.getLoaded().forEach(function(e,t){e.regions&&e.regions.length&&"object"==typeof e.regions&&e.regions.forEach(function(t){var o=i.getRegion(t.id);o&&o.objects.push(e)})})},setTemplates:function(e){for(var t in o.templates=o.templates||{},e)if(void 0!=t){o.options.templates[t]=e[t];var i=o.options.templates[t];"directoryItem"==t&&(i='{{#each items}}<div id="mapsvg-directory-item-{{id}}" class="mapsvg-directory-item" data-object-id="{{id}}">'+i+"</div>{{/each}}",t="directory"),o.templates[t]=Handlebars.compile(i)}},setRegionStatus:function(e,t){t=i.regionsDatabase.getSchemaField("status").optionsDict[t],e.setDisabled(!!t.disabled),t.color?e.setFill(t.color):e.setFill()},update:function(e){for(var t in e)if("regions"==t)$.each(e.regions,function(e,t){var n=i.getRegion(e);n&&n.update(t),void 0!=t.gaugeValue&&(i.updateGaugeMinMax(),i.regionsRedrawColors()),void 0!=t.disabled&&(i.deselectRegion(n),o.options.regions[e]=o.options.regions[e]||{},o.options.regions[e].disabled=n.disabled)});else if("markers"==t)$.each(e.markers,function(e,t){var o=i.getMarker(e);o&&o.update(t)});else{var n="set"+MapSVG.ucfirst(t);i.hasOwnProperty(n)?this[n](e[t]):o.options[t]=e[t]}},setTitle:function(e){e&&(o.options.title=e)},setExtension:function(e){e?o.options.extension=e:delete o.options.extension},setDisableLinks:function(e){(e=MapSVG.parseBoolean(e))?o.$map.on("click.a.mapsvg","a",function(e){e.preventDefault()}):o.$map.off("click.a.mapsvg"),o.disableLinks=e},setLoadingText:function(e){o.options.loadingText=e},setLockAspectRatio:function(e){o.options.lockAspectRatio=MapSVG.parseBoolean(e)},setOnClick:function(e){o.options.onClick=e||void 0},setMouseOver:function(e){o.options.mouseOver=e||void 0},setMouseOut:function(e){o.options.mouseOut=e||void 0},setBeforeLoad:function(e){o.options.beforeLoad=e||void 0},setAfterLoad:function(e){o.options.afterLoad=e||void 0},setPopoverShown:function(e){o.options.popoverShown=e||void 0},on:function(e,t){o.eventHandlers=o.eventHandlers||{},o.eventHandlers[e]=t},setMarkerEditHandler:function(e){o.markerEditHandler=e},setRegionChoroplethField:function(e){o.options.regionChoroplethField=e,i.redrawGauge()},setRegionEditHandler:function(e){o.regionEditHandler=e},setDisableAll:function(e){e=MapSVG.parseBoolean(e),$.extend(!0,o.options,{disableAll:e}),o.regions.forEach(function(e){e.setDisabled()})},setRegionStatuses:function(e){o.options.regionStatuses=e;var t={};for(var n in o.options.regionStatuses)t[n]=o.options.regionStatuses[n].color.length?o.options.regionStatuses[n].color:void 0;i.setColors({status:t})},setColorsIgnore:function(e){o.options.colorsIgnore=MapSVG.parseBoolean(e),i.regionsRedrawColors()},setColors:function(e){$.extend(!0,o.options,{colors:e}),e.status&&(o.options.colors.status=e.status),$.each(o.options.colors,function(e,t){null!==t&&""!=t||delete o.options.colors[e]}),e.background&&o.$map.css({background:o.options.colors.background}),e.hover&&(o.options.colors.hover=e.hover==""+parseInt(e.hover)?parseInt(e.hover):e.hover),e.selected&&(o.options.colors.selected=e.selected==""+parseInt(e.selected)?parseInt(e.selected):e.selected),i.regionsRedrawColors()},setTooltips:function(e){void 0!==e.on&&(e.on=MapSVG.parseBoolean(e.on)),$.extend(!0,o.options,{tooltips:e}),o.tooltip=o.tooltip||{posOriginal:{},posShifted:{},posShiftedPrev:{},mirror:{}},o.tooltip.posOriginal={},o.tooltip.posShifted={},o.tooltip.posShiftedPrev={},o.tooltip.mirror={},o.tooltip.container?o.tooltip.container[0].className=o.tooltip.container[0].className.replace(/(^|\s)mapsvg-tt-\S+/g,""):(o.tooltip.container=$("<div />").addClass("mapsvg-tooltip"),o.$map.append(o.tooltip.container));var t=o.options.tooltips.position.split("-");-1==t[0].indexOf("top")&&-1==t[0].indexOf("bottom")||(o.tooltip.posOriginal.topbottom=t[0]),-1==t[0].indexOf("left")&&-1==t[0].indexOf("right")||(o.tooltip.posOriginal.leftright=t[0]),t[1]&&(o.tooltip.posOriginal.leftright=t[1]);var i="mousemove.tooltip.mapsvg-"+o.$map.attr("id");o.tooltip.container.addClass("mapsvg-tt-"+o.options.tooltips.position),$("body").off(i).on(i,function(e){MapSVG.mouse=MapSVG.mouseCoords(e),o.tooltip.container[0].style.left=e.clientX+$(window).scrollLeft()-o.$map.offset().left+"px",o.tooltip.container[0].style.top=e.clientY+$(window).scrollTop()-o.$map.offset().top+"px";var t={x:e.clientX+$(window).scrollLeft(),y:e.clientY+$(window).scrollTop()},i=o.tooltip.container[0].getBoundingClientRect(),n=o.$wrap[0].getBoundingClientRect();if(i={top:i.top+$(window).scrollTop(),bottom:i.bottom+$(window).scrollTop(),left:i.left+$(window).scrollLeft(),right:i.right+$(window).scrollLeft(),width:i.width,height:i.height},n={top:n.top+$(window).scrollTop(),bottom:n.bottom+$(window).scrollTop(),left:n.left+$(window).scrollLeft(),right:n.right+$(window).scrollLeft(),width:n.width,height:n.height},!(t.x>n.right||t.y>n.bottom||t.x<n.left||t.y<n.top)){o.tooltip.mirror.top||o.tooltip.mirror.bottom?o.tooltip.mirror.top&&t.y>o.tooltip.mirror.top?(o.tooltip.mirror.top=!1,delete o.tooltip.posShifted.topbottom):o.tooltip.mirror.bottom&&t.y<o.tooltip.mirror.bottom&&(o.tooltip.mirror.bottom=!1,delete o.tooltip.posShifted.topbottom):i.bottom<n.top+i.height?(o.tooltip.posShifted.topbottom="bottom",o.tooltip.mirror.top=t.y):i.top>n.bottom-i.height&&(o.tooltip.posShifted.topbottom="top",o.tooltip.mirror.bottom=t.y),o.tooltip.mirror.right||o.tooltip.mirror.left?o.tooltip.mirror.left&&t.x>o.tooltip.mirror.left?(o.tooltip.mirror.left=!1,delete o.tooltip.posShifted.leftright):o.tooltip.mirror.right&&t.x<o.tooltip.mirror.right&&(o.tooltip.mirror.right=!1,delete o.tooltip.posShifted.leftright):i.right<n.left+i.width?(o.tooltip.posShifted.leftright="right",o.tooltip.mirror.left=t.x):i.left>n.right-i.width&&(o.tooltip.posShifted.leftright="left",o.tooltip.mirror.right=t.x);var s=$.extend({},o.tooltip.posOriginal,o.tooltip.posShifted),r=[];s.topbottom&&r.push(s.topbottom),s.leftright&&r.push(s.leftright),s=r.join("-"),o.tooltip.posShifted.topbottom==o.tooltip.posOriginal.topbottom&&o.tooltip.posShifted.leftright==o.tooltip.posOriginal.leftright||(o.tooltip.container[0].className=o.tooltip.container[0].className.replace(/(^|\s)mapsvg-tt-\S+/g,""),o.tooltip.container.addClass("mapsvg-tt-"+s),o.tooltip.posShiftedPrev=s)}})},setPopovers:function(e){"string"==typeof e.mode&&0==e.mode.indexOf("function")&&(e.mode=i.functionFromString(e.mode)),$.extend(!0,o.options,{popovers:e}),o.options.popovers.on="off"!=o.options.popovers.mode,o.options.popovers.centerOn=MapSVG.parseBoolean(o.options.popovers.centerOn),o.$popover||(o.$popover=$("<div />").addClass("mapsvg-popover"),o.layers.popovers.append(o.$popover)),o.$popover.css({width:o.options.popovers.width+("auto"==o.options.popovers.width?"":"px"),"max-width":o.options.popovers.maxWidth+"%","max-height":o.options.popovers.maxHeight*o.$wrap.outerHeight()/100+"px"}),o.options.popovers.mobileFullscreen&&MapSVG.isPhone&&($("body").toggleClass("mapsvg-fullscreen-popovers",!0),o.$popover.appendTo("body"))},setRegionPrefix:function(e){o.options.regionPrefix=e},setInitialViewBox:function(e){"string"==typeof e&&(e=e.trim().split(" ")),o._viewBox=[parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])],o.zoomLevel=0},setViewBoxOnStart:function(){o.viewBoxFull=o.svgDefault.viewBox,o.viewBoxFake=o.viewBox,o.whRatioFull=o.viewBoxFull[2]/o.viewBox[2],o.$svg[0].setAttribute("viewBox",o.viewBoxFull.join(" ")),o.vbstart=1},setViewBox:function(e,t){"string"==typeof e&&(e=e.trim().split(" "));var n=e&&4==e.length?e:o.svgDefault.viewBox,s=parseFloat(n[2])!=o.viewBox[2]||parseFloat(n[3])!=o.viewBox[3];o.viewBox=[parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])],o.whRatio=o.viewBox[2]/o.viewBox[3],!o.vbstart&&i.setViewBoxOnStart(),e||(o._viewBox=o.viewBox,o._scale=1);var r=o.options.padding;return r.top&&(o.viewBox[1]-=r.top,o.viewBox[3]+=r.top),r.right&&(o.viewBox[2]+=r.right),r.bottom&&(o.viewBox[3]+=r.bottom),r.left&&(o.viewBox[0]-=r.left,o.viewBox[2]+=r.left),o.scale=i.getScale(),o.superScale=o.whRatioFull*o.svgDefault.viewBox[2]/o.viewBox[2],o.scroll=o.scroll||{},o.scroll.tx=(o.svgDefault.viewBox[0]-o.viewBox[0])*o.scale,o.scroll.ty=(o.svgDefault.viewBox[1]-o.viewBox[1])*o.scale,o.$scrollpane.css({transform:"translate("+o.scroll.tx+"px,"+o.scroll.ty+"px)"}),o.$svg.css({transform:"scale("+o.superScale+")"}),s&&!t&&i.updateSize(),s&&i.trigger("zoom"),!0},setViewBoxReal:function(e){o.viewBoxFull=e,o.viewBoxFake=e,o.whRatioFull=o.viewBoxFull[2]/o.viewBox[2],o.viewBox=e,o.svgDefault.viewBox=o.viewBox,o.viewBoxFull=e,o.viewBoxFake=o.viewBox,o.whRatioFull=o.viewBoxFull[2]/o.viewBox[2],o.$svg[0].setAttribute("viewBox",o.viewBoxFull.join(" ")),o.scale=i.getScale(),o.$layers.css({transform:"translate("+-e[0]*o.scale+"px,"+-e[1]*o.scale+"px)"}),o.zoomLevel=0,i.setViewBox(e)},setViewBoxByGoogleMapBounds:function(){var e=o.googleMaps.map.getBounds(),t=[e.getNorthEast().lat(),e.getNorthEast().lng()],n=[e.getSouthWest().lat(),e.getSouthWest().lng()],s=i.convertGeoToSVG(t),r=i.convertGeoToSVG(n);s[0]<r[0]&&(r[0]=-(o.svgDefault.viewBox[2]/o.mapLonDelta*360-r[0])),i.setViewBox([r[0],s[1],s[0]-r[0],r[1]-s[1]])},redraw:function(){o.$wrap.css({width:o.$wrap.width(),height:o.$wrap.width()/o.whRatio}),o.$wrap.css(MapSVG.browser.ie?{width:"auto"}:{width:"auto",height:"auto"}),i.updateSize()},setPadding:function(e){for(var t in e=e||o.options.padding)e[t]=e[t]?parseInt(e[t]):0;$.extend(o.options.padding,e),i.setViewBox(),i.trigger("sizeChange")},setSize:function(e,t,n){return o.options.width=parseFloat(e),o.options.height=parseFloat(t),o.options.responsive=null!=n&&void 0!=n?MapSVG.parseBoolean(n):o.options.responsive,o.options.width||o.options.height?!o.options.width&&o.options.height?o.options.width=parseInt(o.options.height*o.svgDefault.width/o.svgDefault.height):o.options.width&&!o.options.height&&(o.options.height=parseInt(o.options.width*o.svgDefault.height/o.svgDefault.width)):(o.options.width=o.svgDefault.width,o.options.height=o.svgDefault.height),o.whRatio=o.options.width/o.options.height,o.scale=i.getScale(),i.setResponsive(n),o.markers&&i.markersAdjustPosition(),[o.options.width,o.options.height]},setResponsive:function(e,t){e=void 0!=e?MapSVG.parseBoolean(e):o.options.responsive,$(window).off("resize.mapsvg"),o.$map.css({width:"100%",height:"0","padding-bottom":100*o.viewBox[3]/o.viewBox[2]+"%"}),MapSVG.browser.ie&&(o.whRatio2=o.svgDefault.viewBox[2]/o.svgDefault.viewBox[3],o.$svg.height(o.$map.outerWidth()/o.whRatio2)),o.resizeSensor||(o.resizeSensor=new MapSVG.ResizeSensor(o.$map[0],function(){if(MapSVG.browser.ie&&(o.whRatio2=o.svgDefault.viewBox[2]/o.svgDefault.viewBox[3],o.$svg.height(o.$map.outerWidth()/o.whRatio2)),o.options.googleMaps.on&&o.googleMaps.map){var e=o.googleMaps.map.getCenter();google.maps.event.trigger(o.googleMaps.map,"resize"),o.googleMaps.map.setCenter(e),i.setViewBoxByGoogleMapBounds()}else i.setViewBox(o.viewBox);o.$popover&&o.$popover.css({"max-height":o.options.popovers.maxHeight*o.$wrap.outerHeight()/100+"px"}),i.updateSize()})),o.$wrap.css(e?{width:"100%",height:"auto"}:{width:o.options.width+"px",height:o.options.height+"px"}),$.extend(!0,o.options,{responsive:e}),i.setViewBox(o.viewBox),i.updateSize()},setScroll:function(e,t){void 0!=e.on&&(e.on=MapSVG.parseBoolean(e.on)),void 0!=e.limit&&(e.limit=MapSVG.parseBoolean(e.limit)),$.extend(!0,o.options,{scroll:e}),!t&&i.setEventHandlers()},setZoom:function(e){if(void 0!=(e=e||{}).on&&(e.on=MapSVG.parseBoolean(e.on)),void 0!=e.mousewheel&&(e.mousewheel=MapSVG.parseBoolean(e.mousewheel)),e.delta=2,e.limit&&("string"==typeof e.limit&&(e.limit=e.limit.split(";")),e.limit=[parseInt(e.limit[0]),parseInt(e.limit[1])]),!o.zoomLevels){o.zoomLevels={};for(var t=1,n=0;n<=20;n++)o.zoomLevels[n+""]={_scale:t,viewBox:[0,0,o._viewBox[2]/t,o._viewBox[3]/t]},t*=o.options.zoom.delta;for(t=1,n=0;n>=-20;n--)o.zoomLevels[n+""]={_scale:t,viewBox:[0,0,o._viewBox[2]/t,o._viewBox[3]/t]},t/=o.options.zoom.delta}$.extend(!0,o.options,{zoom:e}),o.$map.off("mousewheel.mapsvg"),o.options.zoom.on&&o.options.zoom.mousewheel&&(MapSVG.browser.firefox&&(o.firefoxScroll={insideIframe:!1},o.$map.on("mouseenter",function(){o.firefoxScroll.insideIframe=!0,o.firefoxScroll.scrollX=window.scrollX,o.firefoxScroll.scrollY=window.scrollY}).on("mouseleave",function(){o.firefoxScroll.insideIframe=!1}),$(document).scroll(function(){o.firefoxScroll.insideIframe&&window.scrollTo(o.firefoxScroll.scrollX,o.firefoxScroll.scrollY)})),o.$map.on("mousewheel.mapsvg",function(e,t,n,s){if(!$(e.target).hasClass("mapsvg-popover")&&!$(e.target).closest(".mapsvg-popover").length){e.preventDefault();var r=t>0?1:-1,a=MapSVG.mouseCoords(e);a.x=a.x-o.$svg.offset().left,a.y=a.y-o.$svg.offset().top;var l=i.convertPixelToSVG([a.x,a.y]);return r>0?i.zoomIn(l):i.zoomOut(l),!1}})),i.setZoomButtons(),o.canZoom=!0},setZoomButtons:function(){var e=o.options.zoom.buttons.location||"hide";if(!o.zoomButtons){var t=$("<div />").addClass("mapsvg-buttons");t.zoomIn=$("<div />").addClass("mapsvg-btn-zoom in");var n=MapSVG.touchDevice?"touchend":"click";t.zoomIn.on(n,function(e){e.stopPropagation(),i.zoomIn()}),t.zoomOut=$("<div />").addClass("mapsvg-btn-zoom out"),t.zoomOut.on(n,function(e){e.stopPropagation(),i.zoomOut()}),t.append(t.zoomIn).append(t.zoomOut),o.zoomButtons=t,o.$map.append(o.zoomButtons)}o.zoomButtons.removeClass("left"),o.zoomButtons.removeClass("right"),"right"==e&&o.zoomButtons.addClass("right")||"left"==e&&o.zoomButtons.addClass("left"),o.options.zoom.on&&"hide"!=e?o.zoomButtons.show():o.zoomButtons.hide()},setCursor:function(e){o.options.cursor=e="pointer"==e?"pointer":"default","pointer"==e?o.$map.addClass("mapsvg-cursor-pointer"):o.$map.removeClass("mapsvg-cursor-pointer")},setPreloaderText:function(e){o.options.loadingText=e},setMultiSelect:function(e,t){o.options.multiSelect=MapSVG.parseBoolean(e),!1!==t&&i.deselectAllRegions()},setGauge:function(e){void 0!=(e=e||o.options.gauge).on&&(e.on=MapSVG.parseBoolean(e.on)),$.extend(!0,o.options,{gauge:e});var t=!1;if(!o.$gauge){o.$gauge={},o.$gauge.gradient=$("<td>&nbsp;</td>").addClass("mapsvg-gauge-gradient"),i.setGaugeGradientCSS(),o.$gauge.container=$("<div />").addClass("mapsvg-gauge").hide(),o.$gauge.table=$("<table />");var n=$("<tr />");o.$gauge.labelLow=$("<td>"+o.options.gauge.labels.low+"</td>"),o.$gauge.labelHigh=$("<td>"+o.options.gauge.labels.high+"</td>"),n.append(o.$gauge.labelLow),n.append(o.$gauge.gradient),n.append(o.$gauge.labelHigh),o.$gauge.table.append(n),o.$gauge.container.append(o.$gauge.table),o.$map.append(o.$gauge.container)}!o.options.gauge.on&&o.$gauge.container.is(":visible")?(o.$gauge.container.hide(),t=!0):o.options.gauge.on&&!o.$gauge.container.is(":visible")&&(o.$gauge.container.show(),t=!0),e.colors&&(o.options.gauge.colors.lowRGB=MapSVG.tinycolor(o.options.gauge.colors.low).toRgb(),o.options.gauge.colors.highRGB=MapSVG.tinycolor(o.options.gauge.colors.high).toRgb(),o.options.gauge.colors.diffRGB={r:o.options.gauge.colors.highRGB.r-o.options.gauge.colors.lowRGB.r,g:o.options.gauge.colors.highRGB.g-o.options.gauge.colors.lowRGB.g,b:o.options.gauge.colors.highRGB.b-o.options.gauge.colors.lowRGB.b,a:o.options.gauge.colors.highRGB.a-o.options.gauge.colors.lowRGB.a},t=!0,o.$gauge&&i.setGaugeGradientCSS()),e.labels&&(o.$gauge.labelLow.html(o.options.gauge.labels.low),o.$gauge.labelHigh.html(o.options.gauge.labels.high)),t&&i.redrawGauge()},redrawGauge:function(){i.updateGaugeMinMax(),i.regionsRedrawColors()},updateGaugeMinMax:function(){o.options.gauge.min=0,o.options.gauge.max=!1;var e=[];o.regions.forEach(function(t){null!=t.gaugeValue&&void 0!=t.gaugeValue&&e.push(t.gaugeValue)}),e.length>0&&(o.options.gauge.min=1==e.length?0:Math.min.apply(null,e),o.options.gauge.max=Math.max.apply(null,e),o.options.gauge.maxAdjusted=o.options.gauge.max-o.options.gauge.min)},setGaugeGradientCSS:function(){o.$gauge.gradient.css({background:o.options.gauge.colors.low,background:"-moz-linear-gradient(left, "+o.options.gauge.colors.low+" 1%,"+o.options.gauge.colors.high+" 100%)",background:"-webkit-gradient(linear, left top, right top, color-stop(1%,"+o.options.gauge.colors.low+"), color-stop(100%,"+o.options.gauge.colors.high+"))",background:"-webkit-linear-gradient(left, "+o.options.gauge.colors.low+" 1%,"+o.options.gauge.colors.high+" 100%)",background:"-o-linear-gradient(left, "+o.options.gauge.colors.low+" 1%,"+o.options.gauge.colors.high+" 100% 100%)",background:"-ms-linear-gradient(left,  "+o.options.gauge.colors.low+" 1%,"+o.options.gauge.colors.high+" 100% 100%)",background:"linear-gradient(to right,"+o.options.gauge.colors.low+" 1%,"+o.options.gauge.colors.high+" 100%)",filter:'progid:DXImageTransform.Microsoft.gradient( startColorstr="'+o.options.gauge.colors.low+'", endColorstr="'+o.options.gauge.colors.high+'",GradientType=1 )'})},setCss:function(e){o.options.css=e},setMenu:function(e){if(void 0!=(e=e||o.options.menu).on&&(e.on=MapSVG.parseBoolean(e.on)),$.extend(!0,o.options,{menu:e}),o.$menu&&o.$menu.off("click.menu.mapsvg"),o.options.menu.on){var t=$("#"+o.options.menu.containerId);t.length&&(o.$menu||(o.$menu=t.is("ul")?t:$("<ul />").appendTo(t),o.$menu.hasClass("mapsvg-menu")||o.$menu.addClass("mapsvg-menu")),0===o.$menu.children().length&&o.regions.forEach(function(e,t){e.disabled||o.$menu.append(o.options.menu.template(e))}),o.$menu.on("click.menu.mapsvg","a",function(e){e.preventDefault();var t=$(this).attr("href").replace("#",""),o=i.getRegion(t),n=o.getCenter();e.clientX=n[0],e.clientY=n[1],i.regionClickHandler(e,o)}).on("mouseover.menu.mapsvg","a",function(e){var t=$(this).attr("href").replace("#",""),o=i.getRegion(t);o.selected||o.highlight()}).on("mouseout.menu.mapsvg","a",function(e){var t=$(this).attr("href").replace("#",""),o=i.getRegion(t);o.selected||o.unhighlight()}))}},setGoogleMaps:function(e){var t=this;if(void 0!=(e=e||o.options.googleMaps).on&&(e.on=MapSVG.parseBoolean(e.on)),o.googleMaps||(o.googleMaps={loaded:!1,initialized:!1,map:null}),$.extend(!0,o.options,{googleMaps:e}),o.options.googleMaps.on)if(o.$map.toggleClass("mapsvg-with-google-map",!0),MapSVG.googleMapsApiLoaded)if(o.googleMaps.map)o.$map.toggleClass("mapsvg-with-google-map",!0),o.$googleMaps&&o.$googleMaps.show(),e.type&&o.googleMaps.map.setMapTypeId(e.type);else{function i(e,t){this.bounds_=e,this.map_=t,this.setMap(t)}o.$googleMaps=$('<div class="mapsvg-layer mapsvg-layer-gm" id="mapsvg-google-maps-'+t.id+'"></div>').prependTo(o.$map),o.$googleMaps.css({position:"absolute",top:0,left:0,bottom:0,right:0,"z-index":"0"}),o.googleMaps.map=new google.maps.Map(o.$googleMaps[0],{mapTypeId:e.type,fullscreenControl:!1,keyboardShortcuts:!1,mapTypeControl:!1,scaleControl:!1,scrollwheel:!1,streetViewControl:!1,zoomControl:!1}),(i.prototype=new google.maps.OverlayView).onAdd=function(){},i.prototype.draw=function(){var e=this.getProjection(),i=(e.fromLatLngToDivPixel(this.bounds_.getSouthWest()),e.fromLatLngToDivPixel(this.bounds_.getNorthEast()),e.fromLatLngToContainerPixel(this.bounds_.getSouthWest())),n=e.fromLatLngToContainerPixel(this.bounds_.getNorthEast()),s=(n.x-i.x)/o.svgDefault.viewBox[2],r=[o.svgDefault.viewBox[0]-i.x/s,o.svgDefault.viewBox[1]-n.y/s,o.$map.width()/s,o.$map.outerHeight()/s];t.setViewBox(r)};var n=new google.maps.LatLng(o.geoViewBox.bottomLat,o.geoViewBox.leftLon),s=new google.maps.LatLng(o.geoViewBox.topLat,o.geoViewBox.rightLon),r=new google.maps.LatLngBounds(n,s);o.googleMaps.overlay=new i(r,o.googleMaps.map),o.options.googleMaps.center&&o.options.googleMaps.zoom?(o.googleMaps.map.setZoom(o.options.googleMaps.zoom),o.googleMaps.map.setCenter(o.options.googleMaps.center)):(n=new google.maps.LatLng(o.geoViewBox.bottomLat,o.geoViewBox.leftLon),s=new google.maps.LatLng(o.geoViewBox.topLat,o.geoViewBox.rightLon),r=new google.maps.LatLngBounds(n,s),o.googleMaps.map.fitBounds(r)),o.options.googleMaps.initialized=!0,o.googleMaps.map.addListener("idle",function(){o.isZooming=!1}),google.maps.event.addListenerOnce(o.googleMaps.map,"idle",function(){setTimeout(function(){o.$map.addClass("mapsvg-fade-in"),setTimeout(function(){o.$map.removeClass("mapsvg-google-map-loading"),o.$map.removeClass("mapsvg-fade-in"),o.googleMaps.overlay.draw(),o.options.googleMaps.center&&o.options.googleMaps.zoom||(o.options.googleMaps.center=o.googleMaps.map.getCenter().toJSON(),o.options.googleMaps.zoom=o.googleMaps.map.getZoom())},300)},1)}),setTimeout(function(){o.googleMaps.map.addListener("bounds_changed",function(){setTimeout(function(){o.isScrolling||o.googleMaps.overlay.draw()},100)}),t.setViewBoxByGoogleMapBounds()},200)}else t.loadGoogleMapsAPI(function(){t.setGoogleMaps()},function(){t.setGoogleMaps({on:!1})});else o.$map.toggleClass("mapsvg-with-google-map",!1),o.$googleMaps&&o.$googleMaps.hide(),o.googleMaps.initialized=!1},loadGoogleMapsAPI:function(e,t){window.gm_authFailure=function(){MapSVG.GoogleMapBadApiKey?MapSVG.GoogleMapBadApiKey():alert("Google maps API key is incorrect.")},o.googleMapsScript=document.createElement("script"),o.googleMapsScript.onload=function(){MapSVG.googleMapsApiLoaded=!0,"function"==typeof e&&e()},o.googleMapsScript.src="https://maps.googleapis.com/maps/api/js?key="+o.options.googleMaps.apiKey+"&v=3.31",document.head.appendChild(o.googleMapsScript)},loadDetailsView:function(e){var t=this;t.popover&&t.popover.close(),t.detailsController&&t.detailsController.destroy(),t.detailsController=new MapSVG.DetailsController({color:o.options.colors.detailsView,autoresize:!MapSVG.isPhone&&o.options.detailsView.autoresize,container:o.$details,template:e instanceof Region?o.templates.detailsViewRegion:o.templates.detailsView,mapsvg:t,data:e instanceof Region?e.forTemplate():e,scrollable:"custom"!=o.options.detailsView.location,withToolbar:"custom"!=o.options.detailsView.location,width:o.options.detailsView.width,events:{shown:function(){o.events["shown.detailsView"]&&o.events["shown.detailsView"].call(t,t),t.trigger("detailsShown")},closed:function(){t.deselectAllRegions(),o.controllers&&o.controllers.directory&&o.controllers.directory.deselectItems(),o.events["closed.detailsView"]&&o.events["closed.detailsView"].call(t,t),t.trigger("detailsClosed")}}})},setMenuMarkers:function(e){if(void 0!=(e=e||o.options.menuMarkers).on&&(e.on=MapSVG.parseBoolean(e.on)),$.extend(!0,o.options,{menuMarkers:e}),o.$menuMarkers&&o.$menuMarkers.off("click.menuMarkers.mapsvg"),o.options.menuMarkers.on){var t=$("#"+o.options.menuMarkers.containerId);t.length&&(o.$menuMarkers||(o.$menuMarkers=t.is("ul")?t:$("<ul />").appendTo(t),o.$menuMarkers.hasClass("mapsvg-menu-markers")||o.$menuMarkers.addClass("mapsvg-menu-markers")),0===o.$menuMarkers.children().length&&o.markers.sort(function(e,t){return e.id==t.id?0:+(e.id>t.id)||-1}),o.markers.forEach(function(e,t){o.$menuMarkers.append(o.options.menuMarkers.template(e))}),o.$menuMarkers.on("click.menuMarkers.mapsvg","a",function(e){e.preventDefault();var t=$(this).attr("href").replace("#",""),o=i.getMarker(t),n=o.getCenter();i.regionClickHandler(e={clientX:n[0],clientY:n[1]},o)}).on("mouseover.menuMarkers.mapsvg","a",function(e){e.preventDefault();var t=$(this).attr("href").replace("#",""),n=i.getMarker(t);o.options.mouseOver&&o.options.mouseOver.call(n,e,i)}).on("mouseout.menuMarkers.mapsvg","a",function(e){e.preventDefault();var t=$(this).attr("href").replace("#",""),n=i.getMarker(t);o.options.mouseOut&&o.options.mouseOut.call(n,e,i)}))}},getRegion:function(e){return o.regions[o.regionsDict[e]]},getMarker:function(e){return o.markers[o.markersDict[e]]},checkId:function(e){return i.getRegion(e)?{error:"This ID is already being used by a Region"}:!i.getMarker(e)||{error:"This ID is already being used by another Marker"}},regionsRedrawColors:function(){o.regions.forEach(function(e){e.setFill()})},destroy:function(){return o.$map.empty().insertBefore(o.$wrap).attr("style","").removeClass("mapsvg mapsvg-responsive"),o.$wrap.remove(),delete instances[o.$map.attr("id")],i},getData:function(){return o},fitBounds:function(){},getScale:function(){return o.$map.width()/o.viewBox[2]||1},updateSize:function(){o.scale=i.getScale(),i.popover&&i.popover.adjustPosition(),i.markersAdjustPosition(),i.mapAdjustStrokes(),o.directoryWrap&&o.directoryWrap.height(o.$wrap.outerHeight())},getViewBox:function(){return o.viewBox},viewBoxSetBySize:function(e,t){return e=parseFloat(e),t=parseFloat(t),i.setSize(e,t),o._viewBox=i.viewBoxGetBySize(e,t),i.setViewBox(o._viewBox),$(window).trigger("resize"),i.setSize(e,t),o.viewBox},viewBoxGetBySize:function(e,t){var i=e/t,n=o.svgDefault.viewBox[2]/o.svgDefault.viewBox[3],s=$.extend([],o.svgDefault.viewBox);return i!=n&&(i>n?(s[2]=o.svgDefault.viewBox[3]*i,s[0]=o.svgDefault.viewBox[0]-(s[2]-o.svgDefault.viewBox[2])/2):(s[3]=o.svgDefault.viewBox[2]/i,s[1]=o.svgDefault.viewBox[1]-(s[3]-o.svgDefault.viewBox[3])/2)),s},viewBoxReset:function(e){if(o.options.googleMaps.on)if(o.options.googleMaps.center&&o.options.googleMaps.zoom)o.googleMaps.map.setZoom(o.options.googleMaps.zoom),o.googleMaps.map.setCenter(o.options.googleMaps.center);else{var t=new google.maps.LatLng(o.geoViewBox.bottomLat,o.geoViewBox.leftLon),n=new google.maps.LatLng(o.geoViewBox.topLat,o.geoViewBox.rightLon),s=new google.maps.LatLngBounds(t,n);o.googleMaps.map.fitBounds(s),o.options.googleMaps.center=o.googleMaps.map.getCenter().toJSON(),o.options.googleMaps.zoom=o.googleMaps.map.getZoom()}else if(e){var r=o._viewBox||o.svgDefault.viewBox;o.zoomLevel=0,o._scale=1,i.setViewBox(r)}else i.setViewBox()},getGeoViewBox:function(){var e=o.viewBox,t=i.convertSVGToGeo(e[0],e[1])[1],n=i.convertSVGToGeo(e[0]+e[2],e[1])[1];return[t,i.convertSVGToGeo(e[0],e[1])[0],n,i.convertSVGToGeo(e[0],e[1]+e[3])[0]]},mapAdjustStrokes:function(){o.$svg.find("path, polygon, circle, ellipse, rect").each(function(e){$(this).data("stroke-width")&&$(this).css("stroke-width",$(this).data("stroke-width")/o.scale)})},zoomIn:function(e){if(o.googleMaps.map){if(!o.isZooming){o.isZooming=!0;var t=o.googleMaps.map.getZoom()+1;o.googleMaps.map.setZoom(t=t>20?20:t)}}else o.canZoom&&(o.canZoom=!1,setTimeout(function(){o.canZoom=!0},700),i.zoom(1,e))},zoomOut:function(e){if(o.googleMaps.map){if(!o.isZooming&&o.googleMaps.map.getZoom()-1>=o.options.googleMaps.minZoom){o.isZooming=!0;var t=o.googleMaps.map.getZoom()-1;o.googleMaps.map.setZoom(t=t<1?1:t)}}else o.canZoom&&(o.canZoom=!1,setTimeout(function(){o.canZoom=!0},700),i.zoom(-1,e))},touchZoomStart:function(e){o.scale=o.scale*zoom_k,o._scale=o._scale*zoom_k;var t=o.viewBox[2],n=o.viewBox[3],s=[];s[2]=o._viewBox[2]/o._scale,s[3]=o._viewBox[3]/o._scale,s[0]=o.viewBox[0]+(t-s[2])/2,s[1]=viewBox[1]+(n-s[3])/2,i.setViewBox(s)},touchZoomMove:function(){},touchZoomEnd:function(){},zoomTo:function(e,t){if(t=void 0!=t&&parseInt(t),o.googleMaps.map){var n=e.getGeoBounds(),s=new google.maps.LatLng(n.sw[0],n.sw[1]),r=new google.maps.LatLng(n.ne[0],n.ne[1]);n=new google.maps.LatLngBounds(s,r),o.googleMaps.map.fitBounds(n)}else{var a=[],l=[];if("string"==typeof e&&(e=i.getRegion(e)),"object"==typeof e&&void 0!==e.length){var p,c=[(a=e[0].getBBox())[0]],u=[a[1]],d=[a[0]+a[2]],h=[a[1]+a[3]];if(e.length>1)for(var f=1;f<e.length;f++){p=e[f].getBBox(),c.push(p[0]),u.push(p[1]);var g=p[1]+p[3];d.push(p[0]+p[2]),h.push(g)}c=Math.min.apply(Math,c),u=Math.min.apply(Math,u);var v=Math.max.apply(Math,d)-c,m=Math.max.apply(Math,h)-u;a=[c,u,v,m]}else a=e.getBBox();l=[],$.each(o.zoomLevels,function(e,n){if(l.length)if(a[2]>a[3]&&l[2]>a[2]&&a[2]>n.viewBox[2])o.zoomLevel=t||parseInt(e)-1,i.setViewBox([a[0]-(s=o.zoomLevels[o.zoomLevel].viewBox)[2]/2+a[2]/2,a[1]-s[3]/2+a[3]/2,s[2],s[3]]),o._scale=o.zoomLevels[o.zoomLevel]._scale;else if(a[2]<a[3]&&l[3]>a[3]&&a[3]>n.viewBox[3]){var s;o.zoomLevel=t||parseInt(e)-1,i.setViewBox([a[0]-(s=o.zoomLevels[o.zoomLevel].viewBox)[2]/2+a[2]/2,a[1]-s[3]/2+a[3]/2,s[2],s[3]]),o._scale=o.zoomLevels[o.zoomLevel]._scale}l=n.viewBox})}},centerOn:function(e,t){if(o.options.googleMaps.on){t=t?(t+12)/i.getScale():0,o.$map.addClass("scrolling");var n=e.getCenterLatLng(t);o.googleMaps.map.setCenter(n),setTimeout(function(){o.$map.removeClass("scrolling")},100)}else{t=t?(t+12)/i.getScale():0;var s=e.getBBox(),r=o.viewBox;i.setViewBox([s[0]-r[2]/2+s[2]/2,s[1]-r[3]/2+s[3]/2-t,r[2],r[3]])}},zoom:function(e,t,n){var s=o.viewBox[2],r=o.viewBox[3],a=[],l=o.zoomLevel>=o.options.zoom.limit[0]&&o.zoomLevel<=o.options.zoom.limit[1];if(n)a[2]=o._viewBox[2]/n,a[3]=o._viewBox[3]/n;else{var p=e>0?1:-1;if(!o.zoomLevels[o.zoomLevel+p])return;if(o._zoomLevel=o.zoomLevel,o._zoomLevel+=p,l&&(o._zoomLevel>o.options.zoom.limit[1]||o._zoomLevel<o.options.zoom.limit[0]))return!1;o.zoomLevel=o._zoomLevel;var c=o.zoomLevels[o.zoomLevel];o._scale=c._scale,a=c.viewBox}var u=[];if(t){var d=p>0?.5:-1;a[0]=o.viewBox[0]+(u=[(t[0]-o.viewBox[0])*d,(t[1]-o.viewBox[1])*d])[0],a[1]=o.viewBox[1]+u[1]}else a[0]=o.viewBox[0]+(u=[(s-a[2])/2,(r-a[3])/2])[0],a[1]=o.viewBox[1]+u[1];o.options.scroll.limit&&(a[0]<o.svgDefault.viewBox[0]?a[0]=o.svgDefault.viewBox[0]:a[0]+a[2]>o.svgDefault.viewBox[0]+o.svgDefault.viewBox[2]&&(a[0]=o.svgDefault.viewBox[0]+o.svgDefault.viewBox[2]-a[2]),a[1]<o.svgDefault.viewBox[1]?a[1]=o.svgDefault.viewBox[1]:a[1]+a[3]>o.svgDefault.viewBox[1]+o.svgDefault.viewBox[3]&&(a[1]=o.svgDefault.viewBox[1]+o.svgDefault.viewBox[3]-a[3])),i.setViewBox(a)},markerDelete:function(e){var t=e.id;e instanceof Marker||(e=i.getMarker(e.id)),o.editingMarker&&o.editingMarker.id==e.id&&(o.editingMarker=null,delete o.editingMarker),e.delete(),o.markers.splice(o.markersDict[t],1),i.updateMarkersDict(),0==o.markers.length&&(o.options.markerLastID=0)},markerAdd:function(e,t){var n=$.extend(!0,{},markerOptions,e);if(!n.src)return!1;if(n.src=MapSVG.safeURL(n.src),n.width&&n.height){if(n.geoCoords)var s=i.convertGeoToSVG(n.geoCoords);else{if(!(n.xy||MapSVG.isNumber(n.x)&&MapSVG.isNumber(n.y)))return!1;s=n.xy||[n.x,n.y]}n.x=s[0],n.y=s[1],n.xy=s,n.id=n.id||i.markerId(),!n.geoCoords&&o.mapIsGeo&&(n.geoCoords=i.convertSVGToGeo(n.x,n.y));var r=new Marker(n,o.scale,i);return o.layers.markers.append(r.node),r.href&&r.setHref(r.href),o.markers.push(r),o.markersDict[r.id]=o.markers.length-1,t&&("function"==typeof t?t(r):o.markerEditHandler&&o.markerEditHandler.call(r)),r}var a=new Image;a.onload=function(){return n.width=this.width,n.height=this.height,i.markerAdd(n,t)},a.src=n.src},markerId:function(){o.options.markerLastID=o.options.markerLastID+1;var e="marker_"+o.options.markerLastID;return void 0!=o.markersDict[e]?i.markerId():e},markersAdjustPosition:function(){o.markers.forEach(function(e){e.adjustPosition(o.scale)})},markerMoveStart:function(){this.data("ox",parseFloat(this.attr("x"))),this.data("oy",parseFloat(this.attr("y")))},markerMove:function(e,t){e/=o.scale,t/=o.scale,this.attr({x:this.data("ox")+e,y:this.data("oy")+t})},markerMoveEnd:function(){this.data("ox")==this.attr("x")&&this.data("oy")==this.attr("y")&&t.markerEditHandler.call(this)},setEditingMarker:function(e){o.editingMarker=i.getMarker(e)},unsetEditingMarker:function(){o.editingMarker=null},getEditingMarker:function(){return o.editingMarker},scrollStart:function(e,t){if($(e.target).hasClass("mapsvg-btn-zoom")||$(e.target).closest(".mapsvg-gauge").length)return!1;if(o.editMarkers.on&&"mapsvg-marker"==$(e.target).hasClass("class"))return!1;if(o.isScrolling=!0,o.$map.addClass("scrolling"),e.preventDefault(),MapSVG.touchDevice)var n=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0]?e.originalEvent.touches[0]:e;else n=e;o.scroll=o.scroll||{},o.scroll.vxi=o.viewBox[0],o.scroll.vyi=o.viewBox[1],o.scroll.x=n.clientX,o.scroll.y=n.clientY,o.scroll.dx=0,o.scroll.dy=0,o.scroll.vx=0,o.scroll.vy=0,o.scroll.gx=n.clientX,o.scroll.gy=n.clientY,o.scroll.tx=o.scroll.tx||0,o.scroll.ty=o.scroll.ty||0,0===e.type.indexOf("mouse")&&($(document).on("mousemove.scroll.mapsvg",i.scrollMove),o.options.scroll.spacebar?$(document).on("keyup.scroll.mapsvg",function(e){32==e.keyCode&&i.scrollEnd(e,t)}):$(document).on("mouseup.scroll.mapsvg",function(e){i.scrollEnd(e,t)}))},scrollMove:function(e){e.preventDefault();var t=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0]?e.originalEvent.touches[0]:e;i.panBy(o.scroll.gx-t.clientX,o.scroll.gy-t.clientY)&&o.googleMaps.map&&o.googleMaps.map.panBy(o.scroll.gx-t.clientX,o.scroll.gy-t.clientY),o.scroll.gx=t.clientX,o.scroll.gy=t.clientY,o.scroll.dx=o.scroll.x-t.clientX,o.scroll.dy=o.scroll.y-t.clientY;var n=parseInt(o.scroll.vxi+o.scroll.dx/o.scale),s=parseInt(o.scroll.vyi+o.scroll.dy/o.scale);o.options.scroll.limit&&(n<o.svgDefault.viewBox[0]?n=o.svgDefault.viewBox[0]:o.viewBox[2]+n>o.svgDefault.viewBox[0]+o.svgDefault.viewBox[2]&&(n=o.svgDefault.viewBox[0]+o.svgDefault.viewBox[2]-o.viewBox[2]),s<o.svgDefault.viewBox[1]?s=o.svgDefault.viewBox[1]:o.viewBox[3]+s>o.svgDefault.viewBox[1]+o.svgDefault.viewBox[3]&&(s=o.svgDefault.viewBox[1]+o.svgDefault.viewBox[3]-o.viewBox[3])),o.scroll.vx=n,o.scroll.vy=s},scrollEnd:function(e,t,n){o.isScrolling=!1,o.$map.removeClass("scrolling"),$(document).off("keyup.scroll.mapsvg"),$(document).off("mousemove.scroll.mapsvg"),$(document).off("mouseup.scroll.mapsvg"),!0!==n&&Math.abs(o.scroll.dx)<5&&Math.abs(o.scroll.dy)<5&&(o.editMarkers.on?o.clickAddsMarker&&i.markerAddClickHandler(e):o.region_clicked&&i.regionClickHandler(e,o.region_clicked)),o.viewBox[0]=o.scroll.vx||o.viewBox[0],o.viewBox[1]=o.scroll.vy||o.viewBox[1]},panBy:function(e,t){var i=o.scroll.tx-e,n=o.scroll.ty-t;if(!o.options.googleMaps.on&&o.options.scroll.limit){var s=o.$svg[0].getBoundingClientRect(),r=o.$map[0].getBoundingClientRect();(s.left-e>r.left||s.right-e<r.right)&&(i=o.scroll.tx),(s.top-t>r.top||s.bottom-t<r.bottom)&&(n=o.scroll.ty)}return o.$scrollpane.css({transform:"translate("+i+"px,"+n+"px)"}),o.scroll.tx=i,o.scroll.ty=n,!0},panTo:function(e,t){},scrollRegionClickHandler:function(e,t){o.region_clicked=t},touchStart:function(e,t){e.preventDefault(),o.isScrolling&&i.scrollEnd(e,t,!0);var n=e.originalEvent;o.options.zoom.on&&n.touches&&2==n.touches.length?(o.touchZoomStartViewBox=o.viewBox,o.touchZoomStartScale=o.scale,o.touchZoomEnd=1,o.scaleDistStart=Math.hypot(n.touches[0].pageX-n.touches[1].pageX,n.touches[0].pageY-n.touches[1].pageY)):n.touches&&1==n.touches.length&&i.scrollStart(e,t),$(document).on("touchmove.scroll.mapsvg",function(e){e.preventDefault(),i.touchMove(e,i)}).on("touchend.scroll.mapsvg",function(e){e.preventDefault(),i.touchEnd(e,i)})},touchMove:function(e,t){e.preventDefault();var n=e.originalEvent;if(o.options.zoom.on&&n.touches&&2==n.touches.length){if(MapSVG.ios||(n.scale=Math.hypot(n.touches[0].pageX-n.touches[1].pageX,n.touches[0].pageY-n.touches[1].pageY)/o.scaleDistStart),1!=n.scale&&o.canZoom){var s=n.scale>1?1:-1,r=n.touches[0].pageX>=n.touches[1].pageX?n.touches[0].pageX-(n.touches[0].pageX-n.touches[1].pageX)/2-o.$svg.offset().left:n.touches[1].pageX-(n.touches[1].pageX-n.touches[0].pageX)/2-o.$svg.offset().left,a=n.touches[0].pageY>=n.touches[1].pageY?n.touches[0].pageY-(n.touches[0].pageY-n.touches[1].pageY)-o.$svg.offset().top:n.touches[1].pageY-(n.touches[1].pageY-n.touches[0].pageY)-o.$svg.offset().top,l=i.convertPixelToSVG([r,a]);s>0?i.zoomIn(l):i.zoomOut(l)}}else o.isScrolling&&i.scrollMove(e)},touchEnd:function(e,t){e.preventDefault(),o.touchZoomStart?(o.touchZoomStart=!1,o.touchZoomEnd=!1):o.isScrolling&&i.scrollEnd(e,t),$(document).off("touchmove.scroll.mapsvg"),$(document).off("touchend.scroll.mapsvg")},markersGroupHide:function(e){for(var t in o.markers[e])o.markers[e][t].hide()},markersGroupShow:function(e){for(var t in o.markers[e])o.markers[e][t].show()},regionsGroupSelect:function(e){for(var t in o.markers[e])o.markers[e][t].hide()},regionsGroupUnselect:function(e){for(var t in o.markers[e])o.markers[e][t].show()},markersGet:function(){return o.markers},getSelected:function(){return o.selected_id},selectRegion:function(e,t){if("string"==typeof e)var n=i.getRegion(e);else n=e;if(!n)return!1;if(o.options.multiSelect&&!o.editRegions.on){if(n.selected)return void i.deselectRegion(n)}else o.selected_id.length>0&&i.deselectAllRegions();o.selected_id.push(n.id),n.select()},deselectAllRegions:function(){$.each(o.selected_id,function(e,t){i.deselectRegion(i.getRegion(t))})},deselectRegion:function(e){if(e||(e=i.getRegion(o.selected_id[0])),e){e.deselect();var t=$.inArray(e.id,o.selected_id);o.selected_id.splice(t,1)}},highlightRegions:function(e){e.forEach(function(e){e.selected||e.disabled||(o.highlightedRegions.push(e),e.highlight())})},unhighlightRegions:function(){o.highlightedRegions.forEach(function(e){e.selected||e.disabled||e.unhighlight()}),o.highlightedRegions=[]},convertMouseToSVG:function(e){var t=MapSVG.mouseCoords(e),n=t.x-o.$svg.offset().left,s=t.y-o.$svg.offset().top;return i.convertPixelToSVG([n,s])},convertSVGToPixel:function(e){var t=i.getScale();return[(e[0]-o.svgDefault.viewBox[0])*t,(e[1]-o.svgDefault.viewBox[1])*t]},convertPixelToSVG:function(e){var t=i.getScale();return[e[0]/t+o.svgDefault.viewBox[0],e[1]/t+o.svgDefault.viewBox[1]]},convertGeoToSVG:function(e){var t=parseFloat(e[0]),i=parseFloat(e[1]),n=o.svgDefault.viewBox[2]/o.mapLonDelta*(i-o.geoViewBox.leftLon),s=(t=3.14159*t/180,o.svgDefault.viewBox[2]/o.mapLonDelta*360/6.28318),r=s/2*Math.log((1+Math.sin(o.mapLatBottomDegree))/(1-Math.sin(o.mapLatBottomDegree))),a=o.svgDefault.viewBox[3]-(s/2*Math.log((1+Math.sin(t))/(1-Math.sin(t)))-r);return[n+=o.svgDefault.viewBox[0],a+=o.svgDefault.viewBox[1]]},convertSVGToGeo:function(e,t){e-=o.svgDefault.viewBox[0],t-=o.svgDefault.viewBox[1];var i=o.svgDefault.viewBox[2]/o.mapLonDelta*360/(2*Math.PI),n=i/2*Math.log((1+Math.sin(o.mapLatBottomDegree))/(1-Math.sin(o.mapLatBottomDegree))),s=180/Math.PI*(2*Math.atan(Math.exp((o.svgDefault.viewBox[3]+n-t)/i))-Math.PI/2),r=o.geoViewBox.leftLon+e/o.svgDefault.viewBox[2]*o.mapLonDelta;return[s=parseFloat(s.toFixed(6)),r=parseFloat(r.toFixed(6))]},convertGeoBoundsToViewBox:function(e,t){var i=parseFloat(coords[0]),n=parseFloat(coords[1]),s=o.svgDefault.viewBox[2]/o.mapLonDelta*(n-o.geoViewBox.leftLon),r=(i=3.14159*i/180,o.svgDefault.viewBox[2]/o.mapLonDelta*360/6.28318),a=r/2*Math.log((1+Math.sin(o.mapLatBottomDegree))/(1-Math.sin(o.mapLatBottomDegree))),l=o.svgDefault.viewBox[3]-(r/2*Math.log((1+Math.sin(i))/(1-Math.sin(i)))-a);return[s+=o.svgDefault.viewBox[0],l+=o.svgDefault.viewBox[1]]},pickGaugeColor:function(e){var t=(e-o.options.gauge.min)/o.options.gauge.maxAdjusted;return[Math.round(o.options.gauge.colors.diffRGB.r*t+o.options.gauge.colors.lowRGB.r),Math.round(o.options.gauge.colors.diffRGB.g*t+o.options.gauge.colors.lowRGB.g),Math.round(o.options.gauge.colors.diffRGB.b*t+o.options.gauge.colors.lowRGB.b),Math.round(o.options.gauge.colors.diffRGB.a*t+o.options.gauge.colors.lowRGB.a)]},isRegionDisabled:function(e,t){return!(!o.options.regions[e]||!o.options.regions[e].disabled&&"none"!=t)||!(void 0!=o.options.regions[e]&&!MapSVG.parseBoolean(o.options.regions[e].disabled)||!o.options.disableAll&&"none"!=t&&"labels"!=e&&"Labels"!=e)},regionClickHandler:function(e,t,n){o.region_clicked=null,"region"==t.mapsvg_type&&i.selectRegion(t.id),o.editRegions.on?o.regionEditHandler.call(t):(i.showPopover(t),o.options.onClick&&o.options.onClick.call(t,e,i),t.href&&!o.disableLinks&&("blank"==t.target?window.open(t.href,"_blank").focus():window.location.href=t.href))},fileExists:function(e){if("data"==e.substr(0,4))return!0;var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!=t.status},getStyle:function(e,t){if(e.currentStyle)var o=e.currentStyle.margin;else window.getComputedStyle&&(o=window.getComputedStyle.getPropertyValue?window.getComputedStyle(e,null).getPropertyValue(t):window.getComputedStyle(e)[t]);return o},search:function(e){var t=[];return e=e.toLowerCase(),o.regions.forEach(function(o){(0===o.id.toLowerCase().indexOf(e)||-1!==o.id.toLowerCase().indexOf("-"+e)||o.title&&0===o.title.toLowerCase().indexOf(e))&&t.push({id:o.id,id_no_spaces:o.id_no_spaces})}),t},searchMarkers:function(e){var t=[];return e=e.toLowerCase(),o.markers.forEach(function(o){0===o.id.toLowerCase().indexOf(e)&&t.push(o.id)}),t},searchData:function(e,t){var i=[];return t=t.toLowerCase(),o.options.data.forEach(function(e){for(var o in e)0===(""+e[o]).toLowerCase().indexOf(t)&&-1==i.indexOf(e.id)&&i.push(e.id)}),i},hideMarkersExceptOne:function(e){o.markers.forEach(function(t){t.id!=e&&t.node.addClass("mapsvg-marker-hidden")})},showMarkers:function(){o.markers.forEach(function(e){e.node.removeClass("mapsvg-marker-hidden")})},markerAddClickHandler:function(e){if($(e.target).hasClass("mapsvg-marker"))return!1;var t=MapSVG.mouseCoords(e),n=t.x-o.$svg.offset().left,s=t.y-o.$svg.offset().top,r=i.convertPixelToSVG([n,s]);if(!$.isNumeric(n)||!$.isNumeric(s))return!1;var a={xy:r};o.editingMarker?o.editingMarker.setXy(r):(window.defaultMarkerImage&&(a.src=window.defaultMarkerImage),i.markerAdd(a,!0))},setMarkersEditMode:function(e,t){o.clickAddsMarker=!0,o.editMarkers.on=MapSVG.parseBoolean(e),i.deselectAllRegions(),i.setEventHandlers()},setRegionsEditMode:function(e){o.editRegions.on=MapSVG.parseBoolean(e),i.deselectAllRegions(),i.setEventHandlers()},setEditMode:function(e){o.editMode=e},setDataEditMode:function(e){o.editData.on=MapSVG.parseBoolean(e),i.deselectAllRegions(),i.setEventHandlers()},setMarkers:function(e){$.each(e,function(e,t){i.markerAdd(t)}),o.markers.sort(function(e,t){return e.id==t.id?0:+(e.id>t.id)||-1}),o.markers.forEach(function(e,t){o.markersDict[e.id]=t})},setEventHandler:function(){},textBr:function(e){for(var t=[],o=e.split(/\n/),i=jQuery(document.createElement("div")),n=0;n<o.length;n++)t.push(i.text(o[n]).html());return t.join("<br />")},runUserFunction:function(e){try{e()}catch(e){console.log("MapSVG user-defined function error: (line "+e.line+"): "+e.message)}},download:function(){o.downloadForm||(o.downloadForm=$('<form id="mdownload" action="/wp-content/plugins/mapsvg-dev/download.php" method="POST"><input type="hidden" name="svg_file" value="0" /><input type="hidden" name="svg_title"></form>'),o.downloadForm.appendTo("body")),o.downloadForm.find('input[name="svg_file"]').val(o.$svg.prop("outerHTML")),o.downloadForm.find('input[name="svg_title"]').val(o.options.title),setTimeout(function(){jQuery("#mdownload").submit()},500)},showTooltip:function(e){if(e.disabled)return!1;var t;(t="global"==o.options.tooltips.priority?"function"==typeof o.options.tooltips.mode&&o.options.tooltips.mode.call(e,o.tooltip.container,e,i)||"off"!=o.options.tooltips.mode&&e[o.options.tooltips.mode]||e.tooltip:e.tooltip||"function"==typeof o.options.tooltips.mode&&o.options.tooltips.mode.call(e,o.tooltip.container,e,i)||"off"!=o.options.tooltips.mode&&e[o.options.tooltips.mode])&&t.length&&(o.tooltip.container.html(t),o.tooltip.container.addClass("mapsvg-tooltip-visible"))},getPopoverBody:function(e){return"global"==o.options.popovers.priority?"function"==typeof o.options.popovers.mode?o.options.popovers.mode.call(e,o.mapPopover,e,i):e.popover:e.popover||("function"==typeof o.options.popovers.mode?o.options.popovers.mode.call(e,o.mapPopover,e,i):null)},popoverAdjustPosition:function(){if(o.$popover&&o.$popover.data("point")){var e=i.convertSVGToPixel(o.$popover.data("point"));o.$popover.css({transform:"translateX(-50%) translate("+e[0]+"px,"+e[1]+"px)"})}},showPopover:function(e){if(e){var t,i=this,n=i.getPopoverBody(e);n&&(t=e instanceof Marker?{x:e.x,y:e.y}:e.getCenterSVG(),i.popover&&i.popover.destroy(),i.popover=new MapSVG.PopoverController({container:o.$popover,point:t,yShift:e instanceof Marker?e.height:0,template:n,mapsvg:i,data:n,mapObject:e,scrollable:!0,withToolbar:!0,events:{shown:function(){if(o.options.popovers.centerOn){var t=this.container.height()/2;!o.options.popovers.centerOn||MapSVG.isPhone&&o.options.popovers.mobileFullscreen||i.centerOn(e,t)}},closed:function(){o.options.popovers.centerOn&&o.options.popovers.resetViewboxOnClose&&i.viewBoxReset(!0)},resize:function(){if(o.options.popovers.centerOn){var t=this.container.height()/2;!o.options.popovers.centerOn||MapSVG.isPhone&&o.options.popovers.mobileFullscreen||i.centerOn(e,t)}}}}))}},hidePopover:function(){i.popover&&i.popover.close()},hideTip:function(){o.tooltip.container.removeClass("mapsvg-tooltip-visible")},popoverOffHandler:function(e){o.isScrolling||$(e.target).closest(".mapsvg-popover").length||$(e.target).hasClass("mapsvg-btn-zoom")||this.popover&&this.popover.close()},mouseOverHandler:function(e){return this instanceof Region&&(this.selected||this.highlight()),i.showTooltip(this),o.options.mouseOver&&o.options.mouseOver.call(this,e,i)},mouseOutHandler:function(e){return this instanceof Region&&(this.selected||this.unhighlight()),i.hideTip(),o.options.mouseOut&&o.options.mouseOut.call(this,e,i)},updateOptions:function(e){$.extend(!0,o.options,e)},updateMarkersDict:function(){o.markersDict={},o.markers.forEach(function(e,t){o.markersDict[e.id]=t})},eventsPrevent:function(e){o.eventsPrevent[e]=!0},eventsRestore:function(e){e?o.eventsPrevent[e]=!1:o.eventsPrevent={}},setEventHandlers:function(){o.$map.off(".common.mapsvg"),o.$scrollpane.off(".common.mapsvg"),$(document).off("keydown.scroll.mapsvg"),$(document).off("mousemove.scrollInit.mapsvg"),$(document).off("mouseup.scrollInit.mapsvg"),o.editMarkers.on&&o.$map.on("touchstart.common.mapsvg mousedown.common.mapsvg",".mapsvg-marker",function(e){e.originalEvent.preventDefault();var t=i.getMarker($(this).attr("id")),n=MapSVG.mouseCoords(e);t.drag(n,o.scale,function(){o.mapIsGeo&&(this.geoCoords=i.convertSVGToGeo(this.x+this.width/2,this.y+(this.height-1))),o.markerEditHandler&&o.markerEditHandler.call(this,!0),this.onChange&&this.onChange.call(this)},function(){o.markerEditHandler&&o.markerEditHandler.call(this),this.onChange&&this.onChange.call(this)})}),o.editMarkers.on||o.$map.on("mouseover.common.mapsvg",".mapsvg-region",function(e){var o=$(this).attr("id");i.mouseOverHandler.call(i.getRegion(o),e,i,t)}).on("mouseleave.common.mapsvg",".mapsvg-region",function(e){var o=$(this).attr("id");i.mouseOutHandler.call(i.getRegion(o),e,i,t)}),o.editRegions.on||o.$map.on("mouseover.common.mapsvg",".mapsvg-marker",function(e){var o=$(this).attr("id");i.mouseOverHandler.call(i.getMarker(o),e,i,t)}).on("mouseleave.common.mapsvg",".mapsvg-marker",function(e){var o=$(this).attr("id");i.mouseOutHandler.call(i.getMarker(o),e,i,t)}),o.options.scroll.spacebar?$(document).on("keydown.scroll.mapsvg",function(e){o.isScrolling||32!=e.keyCode||(e.preventDefault(),o.$map.addClass("mapsvg-scrollable"),$(document).on("mousemove.scrollInit.mapsvg",function(e){o.isScrolling=!0,$(document).off("mousemove.scrollInit.mapsvg"),i.scrollStart(e,i)}).on("keyup.scroll.mapsvg",function(e){32==e.keyCode&&($(document).off("mousemove.scrollInit.mapsvg"),o.$map.removeClass("mapsvg-scrollable"))}))}):o.options.scroll.on?o.$map.on("touchstart.common.mapsvg mousedown.common.mapsvg",function(e){if(!$(e.target).hasClass("mapsvg-popover")&&!$(e.target).closest(".mapsvg-popover").length){if("touchstart"==e.type&&e.preventDefault(),e.target&&$(e.target).attr("class")&&-1!=$(e.target).attr("class").indexOf("mapsvg-region")){var t=i.getRegion($(e.target).attr("id"));i.scrollRegionClickHandler.call(i,e,t)}else if(e.target&&$(e.target).attr("class")&&-1!=$(e.target).attr("class").indexOf("mapsvg-marker")){if(o.editMarkers.on)return;t=i.getMarker($(e.target).attr("id")),i.scrollRegionClickHandler.call(i,e,t)}"mousedown"==e.type?i.scrollStart(e,i):i.touchStart(e,i)}}):o.editMarkers.on?o.clickAddsMarker&&o.$map.on("touchend.common.mapsvg mouseup.common.mapsvg",function(e){e.preventDefault(),i.markerAddClickHandler(e)}):(o.$map.on("touchstart.common.mapsvg",".mapsvg-region",function(e){o.touchScrollStart=$("body").scrollTop()}),o.$map.on("touchstart.common.mapsvg",".mapsvg-marker",function(e){o.touchScrollStart=$("body").scrollTop()}),o.$map.on("touchend.common.mapsvg mouseup.common.mapsvg",".mapsvg-region",function(e){e.preventDefault(),o.touchScrollStart&&o.touchScrollStart!=$("body").scrollTop()||i.regionClickHandler.call(i,e,i.getRegion($(this).attr("id")))}),o.$map.on("touchend.common.mapsvg mouseup.common.mapsvg",".mapsvg-marker",function(e){e.preventDefault(),o.touchScrollStart&&o.touchScrollStart!=$("body").scrollTop()||i.regionClickHandler.call(i,e,i.getMarker($(this).attr("id")))}))},addLayer:function(e){o.layers[e]=$('<div class="mapsvg-layer mapsvg-layer-'+e+'"></div>'),o.$layers.append(o.layers[e])},getDatabaseService:function(){return this.database},regionAdd:function(e){var t=new Region($(e),o.options,o.regionID,i);return t.setStatus(1),o.regions.push(t),o.regions.sort(function(e,t){return e.id==t.id?0:+(e.id>t.id)||-1}),o.regions.forEach(function(e,t){o.regionsDict[e.id]=t}),t},regionDelete:function(e){var t=o.regionsDict[e];if(void 0!==t){var n=i.getRegion(e);n.node&&n.node.remove(),o.regions.splice(t,1),delete o.regionsDict[e]}else $("#"+e).length&&$("#"+e).remove()},reloadRegions:function(){var e=this;o.regions=[],o.regionsDict={},o.$svg.find(".mapsvg-region").removeClass("mapsvg-region"),o.$svg.find(".mapsvg-region-disabled").removeClass("mapsvg-region-disabled"),o.$svg.find("path, polygon, circle, ellipse, rect").each(function(t){if(!$(this).closest("defs").length&&$(this)[0].getAttribute("id")){var i=new Region($(this),o.options,o.regionID,e);o.regions.push(i)}}),o.regions.sort(function(e,t){return e.id==t.id?0:+(e.id>t.id)||-1}),o.regions.forEach(function(e,t){o.regionsDict[e.id]=t})},reloadRegionsFull:function(){var e=i.regionsDatabase.getSchemaFieldByType("status");i.regionsDatabase.getLoaded().forEach(function(t){var o=i.getRegion(t.id);o&&(o.data=t,e&&void 0!==t.status&&null!==t.status&&o.setStatus(t.status))}),i.loadDirectory(),i.setGauge(),i.setLayersControl(),i.setGroups()},init:function(e,t){if(!e.source)throw new Error("MapSVG: please provide SVG file source.");if(e.beforeLoad)try{e.beforeLoad.call(i)}catch(e){}e.source=0===e.source.indexOf("//")?e.source.replace(/^\/\/[^\/]+/,"").replace("//","/"):e.source.replace(/^.*:\/\/[^\/]+/,"").replace("//","/"),(o={}).editMode=e.editMode,delete e.editMode,o.options=$.extend(!0,{},defaults,e),i.id=o.options.db_map_id,"new"==i.id&&(i.id=null),o.highlightedRegions=[],o.editRegions={on:!1},o.editMarkers={on:!1},o.editData={on:!1},o.map=t,o.$map=$(t),o.$scrollpane=$('<div class="mapsvg-scrollpane"></div>').appendTo(o.$map),o.$layers=$('<div class="mapsvg-layers-wrap"></div>').appendTo(o.$scrollpane),o.whRatio=0,o.isScrolling=!1,o.markerOptions={},o.svgDefault={},o.refLength=0,o.scale=1,o._scale=1,o.selected_id=[],o.mapData={},o.regions=[],o.regionsDict={},o.regionID={id:0},o.markers=[],o.markersDict={},o._viewBox=[],o.viewBox=[],o.viewBoxZoom=[],o.viewBoxFind=void 0,o.zoomLevel=0,o.scroll={},o.layers={},o.geoCoordinates=!1,o.geoViewBox={leftLon:0,topLat:0,rightLon:0,bottomLat:0},o.eventsPrevent={},o.geoCoordinates=!1,o.geoViewBox={leftLon:0,topLat:0,rightLon:0,bottomLat:0},o.$map.addClass("mapsvg").addClass("no-transitions").css("background",o.options.colors.background),o.$wrap=$('<div class="mapsvg-wrap"></div>'),o.$wrap.insertBefore(o.$map),o.$wrap.append(o.$map),o.editMode||("custom"!=o.options.detailsView.location?(o.$details=$('<div class="mapsvg-details-container"></div>'),MapSVG.isPhone?$("body").append(o.$details):(o.$wrap.append(o.$details),o.options.menu.customContainer||(o.options.menu.on&&"near"==o.options.detailsView.location?(o.$details.css({left:o.options.menu.width}),o.$details.addClass("near")):o.options.menu.on&&"top"!=o.options.detailsView.location||o.$details.addClass("top"),o.options.detailsView.margin&&o.$details.css("margin",o.options.detailsView.margin)))):o.$details=$("#"+o.options.detailsView.containerId));var n=$("<div>"+o.options.loadingText+"</div>").addClass("mapsvg-loading");if(o.$map.append(n),i.addLayer("markers"),i.addLayer("popovers"),n.css({"margin-left":function(){return-$(this).outerWidth(!1)/2+"px"},"margin-top":function(){return-$(this).outerHeight(!1)/2+"px"}}),o.options.googleMaps.on&&o.$map.addClass("mapsvg-google-map-loading"),o.options.extension&&$().mapSvg.extensions&&$().mapSvg.extensions[o.options.extension]){var s=$().mapSvg.extensions[o.options.extension];s&&s.common(i)}return $.ajax({url:o.options.source+"?v="+o.options.svgFileVersion}).done(function(e){var t=$(e).find("svg");if(o.$svg=t,o.svgDefault.width=t.attr("width"),o.svgDefault.height=t.attr("height"),o.svgDefault.viewBox=t.attr("viewBox"),o.svgDefault.width&&o.svgDefault.height)o.svgDefault.width=parseFloat(o.svgDefault.width.replace(/px/g,"")),o.svgDefault.height=parseFloat(o.svgDefault.height.replace(/px/g,"")),o.svgDefault.viewBox=o.svgDefault.viewBox?o.svgDefault.viewBox.split(" "):[0,0,o.svgDefault.width,o.svgDefault.height];else{if(!o.svgDefault.viewBox)return alert("MapSVG needs width/height or viewBox parameter to be present in SVG file."),!1;o.svgDefault.viewBox=o.svgDefault.viewBox.split(" "),o.svgDefault.width=parseFloat(o.svgDefault.viewBox[2]),o.svgDefault.height=parseFloat(o.svgDefault.viewBox[3])}var s=t.attr("mapsvg:geoViewBox")||t.attr("mapsvg:geoviewbox");if(s&&4==(s=s.split(" ")).length&&(o.mapIsGeo=!0,o.geoCoordinates=!0,o.geoViewBox={leftLon:parseFloat(s[0]),topLat:parseFloat(s[1]),rightLon:parseFloat(s[2]),bottomLat:parseFloat(s[3])},o.mapLonDelta=o.geoViewBox.rightLon-o.geoViewBox.leftLon,o.mapLatBottomDegree=3.14159*o.geoViewBox.bottomLat/180),$.each(o.svgDefault.viewBox,function(e,t){o.svgDefault.viewBox[e]=parseFloat(t)}),o._viewBox=4==o.options.viewBox.length&&o.options.viewBox||o.svgDefault.viewBox,$.each(o._viewBox,function(e,t){o._viewBox[e]=parseFloat(t)}),t.attr("preserveAspectRatio","xMidYMid meet"),t.removeAttr("width"),t.removeAttr("height"),i.reloadRegions(),o.$scrollpane.append(t),i.setSize(o.options.width,o.options.height,o.options.responsive),o.options.disableAll&&i.setDisableAll(!0),i.setViewBox(o._viewBox),i.setResponsive(o.options.responsive,!0),i.setGauge(),i.setMarkers(o.options.markers||o.options.marks||[]),i.setScroll(o.options.scroll,!0),i.setZoom(o.options.zoom),i.setGoogleMaps(),o.options.tooltipsMode&&(o.options.tooltips.mode=o.options.tooltipsMode),i.setTooltips(o.options.tooltips),o.options.popover&&(o.options.popovers=o.options.popover),i.setPopovers(o.options.popovers),o.options.cursor&&i.setCursor(o.options.cursor),$(document).ready(function(){i.setMenu(),i.setMenuMarkers()}),i.setEventHandlers(),n.hide(),setTimeout(function(){i.updateSize(),setTimeout(function(){o.$map.removeClass("no-transitions")},200)},100),match=RegExp("[?&]mapsvg_select=([^&]*)").exec(window.location.search)){var r=decodeURIComponent(match[1].replace(/\+/g," "));i.selectRegion(r)}o.options.afterLoad&&o.options.afterLoad.call(i)}),i}};var i=this.methods},$.fn.mapSvg=function(e){var t=$(this).attr("id");return"object"==typeof e&&void 0===instances[t]?(instances[t]=new mapSVG(this,e),instances[t].methods.init(e,this)):instances[t]?instances[t].methods:instances}}(jQuery),function(e){var t=/^\s+/,o=/\s+$/,i=0,n=e.round,s=e.min,r=e.max,a=e.random;function l(a,p){if(a=a||"",p=p||{},a instanceof l)return a;if(!(this instanceof l))return new l(a,p);var c=function(i){var n,a,l={r:0,g:0,b:0},p=1,c=!1,u=!1;return"string"==typeof i&&(i=function(e){e=e.replace(t,"").replace(o,"").toLowerCase();var i,n,s=!1;if($[e])e=$[e],s=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(i=A.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=A.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=A.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=A.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=A.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=A.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=A.hex8.exec(e))?{a:(n=i[1],V(n)/255),r:V(i[2]),g:V(i[3]),b:V(i[4]),format:s?"name":"hex8"}:(i=A.hex6.exec(e))?{r:V(i[1]),g:V(i[2]),b:V(i[3]),format:s?"name":"hex"}:!!(i=A.hex3.exec(e))&&{r:V(i[1]+""+i[1]),g:V(i[2]+""+i[2]),b:V(i[3]+""+i[3]),format:s?"name":"hex"}}(i)),"object"==typeof i&&(j(i.r)&&j(i.g)&&j(i.b)?(n=i.g,a=i.b,l={r:255*_(i.r,255),g:255*_(n,255),b:255*_(a,255)},c=!0,u="%"===String(i.r).substr(-1)?"prgb":"rgb"):j(i.h)&&j(i.s)&&j(i.v)?(i.s=O(i.s),i.v=O(i.v),l=function(t,o,i){t=6*_(t,360),o=_(o,100),i=_(i,100);var n=e.floor(t),s=t-n,r=i*(1-o),a=i*(1-s*o),l=i*(1-(1-s)*o),p=n%6;return{r:255*[i,a,r,r,l,i][p],g:255*[l,i,i,a,r,r][p],b:255*[r,r,l,i,i,a][p]}}(i.h,i.s,i.v),c=!0,u="hsv"):j(i.h)&&j(i.s)&&j(i.l)&&(i.s=O(i.s),i.l=O(i.l),l=function(e,t,o){var i,n,s;function r(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*(t-e)*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e}if(e=_(e,360),t=_(t,100),o=_(o,100),0===t)i=n=s=o;else{var a=o<.5?o*(1+t):o+t-o*t,l=2*o-a;i=r(l,a,e+1/3),n=r(l,a,e),s=r(l,a,e-1/3)}return{r:255*i,g:255*n,b:255*s}}(i.h,i.s,i.l),c=!0,u="hsl"),i.hasOwnProperty("a")&&(p=i.a)),p=T(p),{ok:c,format:i.format||u,r:s(255,r(l.r,0)),g:s(255,r(l.g,0)),b:s(255,r(l.b,0)),a:p}}(a);this._originalInput=a,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=n(100*this._a)/100,this._format=p.format||c.format,this._gradientType=p.gradientType,this._r<1&&(this._r=n(this._r)),this._g<1&&(this._g=n(this._g)),this._b<1&&(this._b=n(this._b)),this._ok=c.ok,this._tc_id=i++}function p(e,t,o){e=_(e,255),t=_(t,255),o=_(o,255);var i,n,a=r(e,t,o),l=s(e,t,o),p=(a+l)/2;if(a==l)i=n=0;else{var c=a-l;switch(n=p>.5?c/(2-a-l):c/(a+l),a){case e:i=(t-o)/c+(t<o?6:0);break;case t:i=(o-e)/c+2;break;case o:i=(e-t)/c+4}i/=6}return{h:i,s:n,l:p}}function c(e,t,o){e=_(e,255),t=_(t,255),o=_(o,255);var i,n,a=r(e,t,o),l=s(e,t,o),p=a,c=a-l;if(n=0===a?0:c/a,a==l)i=0;else{switch(a){case e:i=(t-o)/c+(t<o?6:0);break;case t:i=(o-e)/c+2;break;case o:i=(e-t)/c+4}i/=6}return{h:i,s:n,v:p}}function u(e,t,o,i){var s=[L(n(e).toString(16)),L(n(t).toString(16)),L(n(o).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function d(t,o,i,s){var r;return[L((r=s,e.round(255*parseFloat(r)).toString(16))),L(n(t).toString(16)),L(n(o).toString(16)),L(n(i).toString(16))].join("")}function h(e,t){t=0===t?0:t||10;var o=l(e).toHsl();return o.s-=t/100,o.s=B(o.s),l(o)}function f(e,t){t=0===t?0:t||10;var o=l(e).toHsl();return o.s+=t/100,o.s=B(o.s),l(o)}function g(e){return l(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var o=l(e).toHsl();return o.l+=t/100,o.l=B(o.l),l(o)}function m(e,t){t=0===t?0:t||10;var o=l(e).toRgb();return o.r=r(0,s(255,o.r-n(-t/100*255))),o.g=r(0,s(255,o.g-n(-t/100*255))),o.b=r(0,s(255,o.b-n(-t/100*255))),l(o)}function y(e,t){t=0===t?0:t||10;var o=l(e).toHsl();return o.l-=t/100,o.l=B(o.l),l(o)}function b(e,t){var o=l(e).toHsl(),i=(o.h+t)%360;return o.h=i<0?360+i:i,l(o)}function w(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function x(e){var t=l(e).toHsl(),o=t.h;return[l(e),l({h:(o+120)%360,s:t.s,l:t.l}),l({h:(o+240)%360,s:t.s,l:t.l})]}function S(e){var t=l(e).toHsl(),o=t.h;return[l(e),l({h:(o+90)%360,s:t.s,l:t.l}),l({h:(o+180)%360,s:t.s,l:t.l}),l({h:(o+270)%360,s:t.s,l:t.l})]}function C(e){var t=l(e).toHsl(),o=t.h;return[l(e),l({h:(o+72)%360,s:t.s,l:t.l}),l({h:(o+216)%360,s:t.s,l:t.l})]}function k(e,t,o){t=t||6,o=o||30;var i=l(e).toHsl(),n=360/o,s=[l(e)];for(i.h=(i.h-(n*t>>1)+720)%360;--t;)i.h=(i.h+n)%360,s.push(l(i));return s}function M(e,t){t=t||6;for(var o=l(e).toHsv(),i=o.h,n=o.s,s=o.v,r=[],a=1/t;t--;)r.push(l({h:i,s:n,v:s})),s=(s+a)%1;return r}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,o,i,n=this.toRgb();return o=n.g/255,i=n.b/255,.2126*((t=n.r/255)<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4))+.7152*(o<=.03928?o/12.92:e.pow((o+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:e.pow((i+.055)/1.055,2.4))},setAlpha:function(e){return this._a=T(e),this._roundA=n(100*this._a)/100,this},toHsv:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=c(this._r,this._g,this._b),t=n(360*e.h),o=n(100*e.s),i=n(100*e.v);return 1==this._a?"hsv("+t+", "+o+"%, "+i+"%)":"hsva("+t+", "+o+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=n(360*e.h),o=n(100*e.s),i=n(100*e.l);return 1==this._a?"hsl("+t+", "+o+"%, "+i+"%)":"hsla("+t+", "+o+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return u(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return d(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:n(this._r),g:n(this._g),b:n(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+n(this._r)+", "+n(this._g)+", "+n(this._b)+")":"rgba("+n(this._r)+", "+n(this._g)+", "+n(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:n(100*_(this._r,255))+"%",g:n(100*_(this._g,255))+"%",b:n(100*_(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+n(100*_(this._r,255))+"%, "+n(100*_(this._g,255))+"%, "+n(100*_(this._b,255))+"%)":"rgba("+n(100*_(this._r,255))+"%, "+n(100*_(this._g,255))+"%, "+n(100*_(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(D[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+d(this._r,this._g,this._b,this._a),o=t,i=this._gradientType?"GradientType = 1, ":"";return e&&(o=l(e).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+o+")"},toString:function(e){var t=!!e;e=e||this._format;var o=!1;return t||!(this._a<1&&this._a>=0)||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(o=this.toRgbString()),"prgb"===e&&(o=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(o=this.toHexString()),"hex3"===e&&(o=this.toHexString(!0)),"hex8"===e&&(o=this.toHex8String()),"name"===e&&(o=this.toName()),"hsl"===e&&(o=this.toHslString()),"hsv"===e&&(o=this.toHsvString()),o||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return l(this.toString())},_applyModification:function(e,t){var o=e.apply(null,[this].concat([].slice.call(t)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},l.fromRatio=function(e,t){if("object"==typeof e){var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]="a"===i?e[i]:O(e[i]));e=o}return l(e,t)},l.equals=function(e,t){return!(!e||!t)&&l(e).toRgbString()==l(t).toRgbString()},l.random=function(){return l.fromRatio({r:a(),g:a(),b:a()})},l.mix=function(e,t,o){o=0===o?0:o||50;var i,n=l(e).toRgb(),s=l(t).toRgb(),r=o/100,a=2*r-1,p=s.a-n.a,c=1-(i=((i=a*p==-1?a:(a+p)/(1+a*p))+1)/2);return l({r:s.r*i+n.r*c,g:s.g*i+n.g*c,b:s.b*i+n.b*c,a:s.a*r+n.a*(1-r)})},l.readability=function(t,o){var i=l(t),n=l(o);return(e.max(i.getLuminance(),n.getLuminance())+.05)/(e.min(i.getLuminance(),n.getLuminance())+.05)},l.isReadable=function(e,t,o){var i,n,s,r,a,p=l.readability(e,t);switch(n=!1,(s=o,r=((s=s||{level:"AA",size:"small"}).level||"AA").toUpperCase(),a=(s.size||"small").toLowerCase(),"AA"!==r&&"AAA"!==r&&(r="AA"),"small"!==a&&"large"!==a&&(a="small"),i={level:r,size:a}).level+i.size){case"AAsmall":case"AAAlarge":n=p>=4.5;break;case"AAlarge":n=p>=3;break;case"AAAsmall":n=p>=7}return n},l.mostReadable=function(e,t,o){var i,n,s,r,a=null,p=0;n=(o=o||{}).includeFallbackColors,s=o.level,r=o.size;for(var c=0;c<t.length;c++)(i=l.readability(e,t[c]))>p&&(p=i,a=l(t[c]));return l.isReadable(e,a,{level:s,size:r})||!n?a:(o.includeFallbackColors=!1,l.mostReadable(e,["#fff","#000"],o))};var $=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D=l.hexNames=function(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[e[o]]=o);return t}($);function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function _(t,o){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(t)&&(t="100%");var i=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(t);return t=s(o,r(0,parseFloat(t))),i&&(t=parseInt(t*o,10)/100),e.abs(t-o)<1e-6?1:t%o/parseFloat(o)}function B(e){return s(1,r(0,e))}function V(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function O(e){return e<=1&&(e=100*e+"%"),e}var G,E,R,A=(E="[\\s|\\(]+("+(G="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",R="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+E),rgba:new RegExp("rgba"+R),hsl:new RegExp("hsl"+E),hsla:new RegExp("hsla"+R),hsv:new RegExp("hsv"+E),hsva:new RegExp("hsva"+R),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function j(e){return!!A.CSS_UNIT.exec(e)}"undefined"!=typeof module&&module.exports?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):MapSVG.tinycolor=l}(Math),$(document).ready(function(){createmap(),$("body").on("click","#idmapin",function(){createmap()})});var iddemo=0;createmap=function(){1===$("#mapsvg").length&&($("#mapsvg .mat-figure").html('<div id="maploader'+iddemo+'"></div>'),$("#maploader"+iddemo).mapSvg({width:999.73236,height:679.94141,colors:{baseDefault:"#000000",background:"#dae9f0",selected:"#da4d18",hover:20,directory:"#fafafa",status:{},base:"#e18b34",disabled:"#b28080",stroke:"#bdc2f0"},regions:{path7297:{id:"path7297",id_no_spaces:"path7297",tooltip:"CHIUAHUA Y CD. JUAREZ",data:{}},path7315:{id:"path7315",id_no_spaces:"path7315",tooltip:"TORRE\xd3N",data:{}},path7321:{id:"path7321",id_no_spaces:"path7321",tooltip:"MONTERREY",data:{}},path7329:{id:"path7329",id_no_spaces:"path7329",tooltip:"TAMAULIPAS",data:{}},path7391:{id:"path7391",id_no_spaces:"path7391",tooltip:"VERACRUZ",data:{}},path7339:{id:"path7339",id_no_spaces:"path7339",tooltip:"AGUASCALIENTES",data:{}},path7361:{id:"path7361",id_no_spaces:"path7361",tooltip:"LE\xd3N",data:{}},path7359:{id:"path7359",id_no_spaces:"path7359",tooltip:"QUERETARO",data:{}},path7365:{id:"path7365",id_no_spaces:"path7365",tooltip:"HIDALGO",data:{}},path7377:{id:"path7377",id_no_spaces:"path7377",tooltip:"ESTADO DE M\xc9XICO <u><li>Chalco</li><li>Tec\xe1mac</li><li>Tizayuca</li><li>Toluca</li></u>",data:{}},path7369:{id:"path7369",id_no_spaces:"path7369",tooltip:"CIUDAD DE M\xc9XICO",data:{}},path7385:{id:"path7385",id_no_spaces:"path7385",tooltip:"PUEBLA",data:{}},path7357:{id:"path7357",id_no_spaces:"path7357",tooltip:"YUCATAN - M\xc9RIDA",data:{}},path7381:{id:"path7381",id_no_spaces:"path7381",tooltip:"QUINTANA ROO",data:{}},path7375:{id:"path7375",id_no_spaces:"path7375",tooltip:"",disabled:!0,data:{}},path7351:{id:"path7351",id_no_spaces:"path7351",tooltip:"",disabled:!0,data:{}},path7347:{id:"path7347",id_no_spaces:"path7347",tooltip:"",disabled:!0,data:{}},path7323:{id:"path7323",id_no_spaces:"path7323",tooltip:"",disabled:!0,data:{}},path7307:{id:"path7307",id_no_spaces:"path7307",tooltip:"",disabled:!0,data:{}},path7397:{id:"path7397",id_no_spaces:"path7397",tooltip:"",disabled:!0,data:{}},path7395:{id:"path7395",id_no_spaces:"path7395",tooltip:"",disabled:!0,data:{}},path7389:{id:"path7389",id_no_spaces:"path7389",tooltip:"",disabled:!0,data:{}},path7387:{id:"path7387",id_no_spaces:"path7387",tooltip:"",disabled:!0,data:{}},path7379:{id:"path7379",id_no_spaces:"path7379",tooltip:"",disabled:!0,data:{}},path7383:{id:"path7383",id_no_spaces:"path7383",tooltip:"",disabled:!0,data:{}},path7373:{id:"path7373",id_no_spaces:"path7373",tooltip:"",disabled:!0,data:{}},path7393:{id:"path7393",id_no_spaces:"path7393",tooltip:"",disabled:!0,data:{}},path7367:{id:"path7367",id_no_spaces:"path7367",tooltip:"",disabled:!0,data:{}},path7345:{id:"path7345",id_no_spaces:"path7345",tooltip:"",disabled:!0,data:{}},path7363:{id:"path7363",id_no_spaces:"path7363",tooltip:"",disabled:!0,data:{}},path7371:{id:"path7371",id_no_spaces:"path7371",tooltip:"",disabled:!0,data:{}},path7371:{id:"path7371",id_no_spaces:"path7371",tooltip:"",disabled:!0,data:{}},path7371:{id:"path7371",id_no_spaces:"path7371",tooltip:"",disabled:!0,data:{}},path7371:{id:"path7371",id_no_spaces:"path7371",tooltip:"",disabled:!0,data:{}},path7353:{id:"path7353",id_no_spaces:"path7353",tooltip:"",disabled:!0,data:{}},path7337:{id:"path7337",id_no_spaces:"path7337",tooltip:"",disabled:!0,data:{}},path7333:{id:"path7333",id_no_spaces:"path7333",tooltip:"",disabled:!0,data:{}},path7355:{id:"path7355",id_no_spaces:"path7355",tooltip:"",disabled:!0,data:{}},path7343:{id:"path7343",id_no_spaces:"path7343",tooltip:"",disabled:!0,data:{}},path7341:{id:"path7341",id_no_spaces:"path7341",tooltip:"",disabled:!0,data:{}},path7335:{id:"path7335",id_no_spaces:"path7335",tooltip:"",disabled:!0,data:{}},path7331:{id:"path7331",id_no_spaces:"path7331",tooltip:"",disabled:!0,data:{}},path7317:{id:"path7317",id_no_spaces:"path7317",tooltip:"",disabled:!0,data:{}},path7313:{id:"path7313",id_no_spaces:"path7313",tooltip:"",disabled:!0,data:{}},path7311:{id:"path7311",id_no_spaces:"path7311",tooltip:"",disabled:!0,data:{}},path7309:{id:"path7309",id_no_spaces:"path7309",tooltip:"",disabled:!0,data:{}},path7305:{id:"path7305",id_no_spaces:"path7305",tooltip:"",disabled:!0,data:{}},path7303:{id:"path7303",id_no_spaces:"path7303",tooltip:"",disabled:!0,data:{}},path7301:{id:"path7301",id_no_spaces:"path7301",tooltip:"",disabled:!0,data:{}},path7299:{id:"path7299",id_no_spaces:"path7299",tooltip:"",disabled:!0,data:{}},path7295:{id:"path7295",id_no_spaces:"path7295",tooltip:"",disabled:!0,data:{}},path7293:{id:"path7293",id_no_spaces:"path7293",tooltip:"",disabled:!0,data:{}},path7291:{id:"path7291",id_no_spaces:"path7291",tooltip:"",disabled:!0,data:{}},path7287:{id:"path7287",id_no_spaces:"path7287",tooltip:"",disabled:!0,data:{}},path7281:{id:"path7281",id_no_spaces:"path7281",tooltip:"",disabled:!0,data:{}},path7285:{id:"path7285",id_no_spaces:"path7285",tooltip:"",disabled:!0,data:{}},path7283:{id:"path7283",id_no_spaces:"path7283",tooltip:"",disabled:!0,data:{}},path7275:{id:"path7275",id_no_spaces:"path7275",tooltip:"",disabled:!0,data:{}},path7273:{id:"path7273",id_no_spaces:"path7273",tooltip:"",disabled:!0,data:{}},path7279:{id:"path7279",id_no_spaces:"path7279",tooltip:"",disabled:!0,data:{}},path7277:{id:"path7277",id_no_spaces:"path7277",tooltip:"",disabled:!0,data:{}},path7289:{id:"path7289",id_no_spaces:"path7289",tooltip:"",disabled:!0,data:{}},path3930:{id:"path3930",id_no_spaces:"path3930",tooltip:"",disabled:!0,data:{}},path7371:{id:"path7371",id_no_spaces:"path7371",tooltip:"",disabled:!0,data:{}},path7349:{id:"path7325",id_no_spaces:"path7325",tooltip:"",disabled:!0,data:{}},path7325:{id:"path7325",id_no_spaces:"path7325",tooltip:"",disabled:!0,data:{}},path7355:{id:"path7355",id_no_spaces:"path7355",tooltip:"",disabled:!0,data:{}},path7375:{id:"path7375",id_no_spaces:"path7289",tooltip:"",disabled:!0,data:{}},path7319:{id:"path7319",id_no_spaces:"path7319",tooltip:"",disabled:!0,data:{}},path7285:{id:"path7285",id_no_spaces:"path7285",tooltip:"",disabled:!0,data:{}},path7327:{id:"path7289",id_no_spaces:"path7289",tooltip:"",disabled:!0,data:{}},path7289:{id:"path7289",id_no_spaces:"path7289",tooltip:"",disabled:!0,data:{}}},viewBox:[0,0,999.73236,679.94141],tooltips:{mode:"id",on:!1,priority:"local",position:"left"},gauge:{on:!1,labels:{low:"low",high:"high"},colors:{lowRGB:{r:193,g:77,b:32,a:1},highRGB:{r:44,g:50,b:66,a:1},low:"#c14d20",high:"#2c3242",diffRGB:{r:-149,g:-27,b:34,a:0}},min:0,max:!1},source:"/assets/img/global/MexicoMap.svg",title:"Mexico_Map",responsive:!0}),iddemo++)};